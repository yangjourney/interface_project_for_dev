2017-10-11 09:55:58,920 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 09:55:58,936 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 11:37:22,466 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 11:37:22,480 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 14:35:59,878 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 14:35:59,887 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 14:36:56,150 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 14:36:56,167 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 14:39:08,146 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 14:39:08,164 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 14:39:08,415 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 14:39:08,415 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 14:39:08,885 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 14:39:08,886 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 14:39:09,066 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 14:39:09,067 runmodeconfig.py[line: 26] ERROR: 读取运行模式配置失败：'RUNMODE'
2017-10-11 14:42:12,080 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 14:42:12,088 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 14:42:12,135 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 14:42:12,135 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 14:42:12,162 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 14:42:12,162 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 14:42:12,164 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 14:42:12,164 runmodeconfig.py[line: 26] ERROR: 读取运行模式配置失败：'RUNMODE'
2017-10-11 14:42:54,813 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 14:42:54,821 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 14:42:54,868 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 14:42:54,868 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 14:42:54,870 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 14:42:54,871 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 14:42:54,872 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 14:43:02,520 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 14:43:02,527 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 14:43:02,568 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 14:43:02,568 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 14:43:02,571 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 14:43:02,572 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 14:43:02,574 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 14:43:02,581 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-11 14:43:02,581 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-11 14:43:02,582 main.py[line: 78] INFO: 按项目运行测试
2017-10-11 14:43:02,582 main.py[line: 115] INFO: 运行指定项目
2017-10-11 14:43:02,875 main.py[line: 121] ERROR: 测试项目[project：pj_wechatno]获取失败，暂时无法执行：7011: Test Project (name:pj_wechatno) does not exist.
getTestProjectByName({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testprojectname': 'pj_wechatno'})
2017-10-11 14:43:03,061 main.py[line: 121] ERROR: 测试项目[project：pj_pos]获取失败，暂时无法执行：7011: Test Project (name:pj_pos) does not exist.
getTestProjectByName({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testprojectname': 'pj_pos'})
2017-10-11 14:43:03,062 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-11 14:43:03,065 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-11 14:43:03,065 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171011144302',)
2017-10-11 14:43:03,066 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-11 14:43:03,066 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171011144302')
2017-10-11 14:43:03,067 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-11 14:43:03,067 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171011144302')
2017-10-11 14:43:03,067 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-11 14:43:03,068 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171011144302')
2017-10-11 14:43:03,068 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-11 14:43:03,068 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171011144302')
2017-10-11 14:43:03,068 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-11 14:43:03,069 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171011144302',)
2017-10-11 14:43:03,069 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-11 14:43:03,069 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171011144302',)
2017-10-11 14:43:03,070 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-11 14:43:03,070 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171011144302.html
2017-10-11 14:43:03,070 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-11 14:43:03,084 main.py[line: 268] INFO: 生成测试报告成功
2017-10-11 14:43:03,616 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171011144302.html
2017-10-11 14:43:03,616 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-11 14:43:05,067 main.py[line: 282] INFO: 发送邮件成功
2017-10-11 14:47:09,274 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 14:47:09,291 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 14:47:09,338 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 14:47:09,338 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 14:47:09,340 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 14:47:09,340 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 14:47:09,342 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 14:47:09,343 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-11 14:47:09,343 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-11 14:47:09,343 main.py[line: 78] INFO: 按项目运行测试
2017-10-11 14:47:09,343 main.py[line: 115] INFO: 运行指定项目
2017-10-11 14:47:09,697 main.py[line: 121] ERROR: 测试项目[project：pj_wechatno]获取失败，暂时无法执行：7011: Test Project (name:pj_wechatno) does not exist.
getTestProjectByName({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testprojectname': 'pj_wechatno'})
2017-10-11 14:47:09,872 main.py[line: 121] ERROR: 测试项目[project：pj_pos]获取失败，暂时无法执行：7011: Test Project (name:pj_pos) does not exist.
getTestProjectByName({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testprojectname': 'pj_pos'})
2017-10-11 14:47:09,873 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-11 14:47:09,875 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-11 14:47:09,875 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171011144709',)
2017-10-11 14:47:09,875 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-11 14:47:09,875 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171011144709')
2017-10-11 14:47:09,876 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-11 14:47:09,876 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171011144709')
2017-10-11 14:47:09,876 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-11 14:47:09,877 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171011144709')
2017-10-11 14:47:09,877 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-11 14:47:09,877 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171011144709')
2017-10-11 14:47:09,877 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-11 14:47:09,878 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171011144709',)
2017-10-11 14:47:09,878 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-11 14:47:09,878 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171011144709',)
2017-10-11 14:47:09,878 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-11 14:47:09,878 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171011144709.html
2017-10-11 14:47:09,879 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-11 14:47:09,896 main.py[line: 268] INFO: 生成测试报告成功
2017-10-11 14:47:10,390 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171011144709.html
2017-10-11 14:47:10,391 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-11 14:47:11,578 main.py[line: 282] INFO: 发送邮件成功
2017-10-11 14:48:13,477 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 14:48:13,485 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 14:48:13,531 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 14:48:13,532 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 14:48:13,534 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 14:48:13,534 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 14:48:13,535 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 14:48:13,536 runmodeconfig.py[line: 26] ERROR: 读取运行模式配置失败：'RUNMODE'
2017-10-11 14:49:12,190 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 14:49:12,207 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 14:49:12,254 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 14:49:12,254 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 14:49:12,256 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 14:49:12,257 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 14:49:12,258 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 14:49:12,259 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-11 14:49:12,259 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[148]
2017-10-11 14:49:12,363 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 148) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 148}),,暂停执行该用例
2017-10-11 14:49:12,364 main.py[line: 75] INFO: 用例[148]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 148) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 148})")])
2017-10-11 14:49:12,364 main.py[line: 78] INFO: 按项目运行测试
2017-10-11 14:49:12,364 main.py[line: 115] INFO: 运行指定项目
2017-10-11 14:49:12,482 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-11 14:49:12,482 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-11 14:55:02,853 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 14:55:02,862 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 14:55:02,912 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 14:55:02,912 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 14:55:02,915 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 14:55:02,916 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 14:55:02,918 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 14:55:02,919 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-11 14:55:02,919 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[148]
2017-10-11 14:55:03,024 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 148) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 148}),,暂停执行该用例
2017-10-11 14:55:03,025 main.py[line: 75] INFO: 用例[148]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 148) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 148})")])
2017-10-11 14:55:03,026 main.py[line: 78] INFO: 按项目运行测试
2017-10-11 14:55:03,026 main.py[line: 115] INFO: 运行指定项目
2017-10-11 14:55:03,120 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-11 14:55:03,120 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-11 14:55:03,248 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-11 14:55:03,248 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-11 14:55:03,345 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-11 14:55:03,437 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-11 14:55:03,438 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-11 14:55:03,788 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-11 14:55:03,887 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-11 14:11:34', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-11 14:55:03,983 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-11 14:55:03,983 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171011145502', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '')
2017-10-11 14:55:03,984 mydb.py[line: 65] ERROR: 执行数据库插入操作失败：(1292, "Incorrect datetime value: '' for column 'runtime' at row 1")
2017-10-11 15:09:57,295 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 15:09:57,303 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 15:09:57,353 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 15:09:57,354 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 15:09:57,355 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 15:09:57,356 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 15:09:57,357 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 15:09:57,358 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-11 15:09:57,358 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[148]
2017-10-11 15:09:57,452 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 148) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 148}),,暂停执行该用例
2017-10-11 15:09:57,453 main.py[line: 75] INFO: 用例[148]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 148) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 148})")])
2017-10-11 15:09:57,453 main.py[line: 78] INFO: 按项目运行测试
2017-10-11 15:09:57,453 main.py[line: 115] INFO: 运行指定项目
2017-10-11 15:09:57,549 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-11 15:09:57,549 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-11 15:09:57,681 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-11 15:09:57,681 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-11 15:09:57,775 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-11 15:09:57,869 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-11 15:09:57,869 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-11 15:09:58,239 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-11 15:09:58,340 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-11 14:11:34', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-11 15:09:58,431 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-11 15:09:58,431 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171011150957', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171011150957')
2017-10-11 15:09:58,461 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-11 15:09:58,461 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-11 15:09:58,462 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-11 15:09:58,462 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-11 15:09:58,462 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171011150957', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '0000-00-00 00:00:00')
2017-10-11 15:09:58,484 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 70 (char 69),停止执行用例[id=3, name=Login]
2017-10-11 15:12:41,608 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 15:12:41,625 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 15:12:41,673 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 15:12:41,673 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 15:12:41,675 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 15:12:41,675 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 15:12:41,676 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 15:14:14,609 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 15:14:14,627 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 15:14:14,674 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 15:14:14,675 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 15:14:14,677 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 15:14:14,678 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 15:14:14,680 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 15:14:14,681 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-11 15:14:14,681 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[148]
2017-10-11 15:14:14,784 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 148) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 148}),,暂停执行该用例
2017-10-11 15:14:14,785 main.py[line: 75] INFO: 用例[148]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 148) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 148})")])
2017-10-11 15:14:14,785 main.py[line: 78] INFO: 按项目运行测试
2017-10-11 15:14:14,786 main.py[line: 115] INFO: 运行指定项目
2017-10-11 15:14:14,870 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-11 15:14:14,871 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-11 15:14:14,998 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-11 15:14:14,998 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-11 15:14:15,090 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-11 15:14:15,175 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-11 15:14:15,175 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-11 15:14:15,588 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-11 15:14:15,687 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-11 14:11:34', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-11 15:14:15,790 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-11 15:14:15,791 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171011151414', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171011151414')
2017-10-11 15:14:15,835 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-11 15:14:15,835 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-11 15:14:15,836 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-11 15:14:15,836 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-11 15:14:15,836 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171011151414', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '0000-00-00 00:00:00')
2017-10-11 15:14:15,885 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 70 (char 69),停止执行用例[id=3, name=Login]
2017-10-11 15:16:40,574 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 15:16:40,591 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 15:16:40,646 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 15:16:40,646 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 15:16:40,649 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 15:16:40,649 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 15:16:40,651 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 15:16:40,653 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-11 15:16:40,653 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[148]
2017-10-11 15:16:40,781 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 148) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 148}),,暂停执行该用例
2017-10-11 15:16:40,781 main.py[line: 75] INFO: 用例[148]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 148) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 148})")])
2017-10-11 15:16:40,781 main.py[line: 78] INFO: 按项目运行测试
2017-10-11 15:16:40,781 main.py[line: 115] INFO: 运行指定项目
2017-10-11 15:16:41,004 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-11 15:16:41,004 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-11 15:16:41,137 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-11 15:16:41,137 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-11 15:16:41,236 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-11 15:16:41,335 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-11 15:16:41,335 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-11 15:16:41,617 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-11 15:16:41,735 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-11 14:11:34', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-11 15:16:41,829 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-11 15:16:41,829 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171011151640', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171011151640')
2017-10-11 15:16:41,855 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-11 15:16:41,856 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-11 15:16:41,857 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-11 15:16:41,857 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-11 15:16:41,857 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171011151640', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171011151640')
2017-10-11 15:16:41,882 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 70 (char 69),停止执行用例[id=3, name=Login]
2017-10-11 15:32:03,417 global_var.py[line: 20] INFO: 当前运行环境：测试环境
2017-10-11 15:32:03,418 global_var.py[line: 21] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-11 15:32:13,451 mydb.py[line: 30] ERROR: 初始化数据连接失败：(2003, "Can't connect to MySQL server on '192.168.1.19' (timed out)")
2017-10-11 15:33:27,982 global_var.py[line: 20] INFO: 当前运行环境：测试环境
2017-10-11 15:33:27,982 global_var.py[line: 21] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-11 15:33:27,994 global_var.py[line: 28] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 15:33:27,996 global_var.py[line: 31] INFO: 正在获取testlink
2017-10-11 15:33:51,742 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-11 15:33:51,743 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-11 15:33:51,762 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 15:33:51,764 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-11 15:33:59,049 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-11 15:33:59,050 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-11 15:33:59,060 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 15:33:59,062 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-11 15:33:59,109 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 15:33:59,109 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 15:33:59,112 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 15:33:59,112 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 15:33:59,113 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 15:33:59,114 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-11 15:33:59,115 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[148]
2017-10-11 15:33:59,218 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 148) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 148}),,暂停执行该用例
2017-10-11 15:33:59,219 main.py[line: 75] INFO: 用例[148]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 148) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 148})")])
2017-10-11 15:33:59,219 main.py[line: 78] INFO: 按项目运行测试
2017-10-11 15:33:59,219 main.py[line: 115] INFO: 运行指定项目
2017-10-11 15:33:59,307 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-11 15:33:59,308 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-11 15:33:59,438 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-11 15:33:59,439 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-11 15:33:59,539 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-11 15:33:59,638 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-11 15:33:59,638 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-11 15:33:59,915 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-11 15:34:00,018 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-11 14:11:34', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-11 15:34:00,116 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-11 15:34:00,117 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171011153359', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171011153359')
2017-10-11 15:34:00,147 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-11 15:34:00,148 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-11 15:34:00,148 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-11 15:34:00,148 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-11 15:34:00,149 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171011153359', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171011153359')
2017-10-11 15:34:00,197 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 70 (char 69),停止执行用例[id=3, name=Login]
2017-10-11 15:43:32,130 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-11 15:43:32,131 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-11 15:43:32,143 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-11 15:43:32,154 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-11 15:43:32,201 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-11 15:43:32,202 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-11 15:43:32,204 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-11 15:43:32,204 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-11 15:43:32,205 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-11 15:43:32,206 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-11 15:43:32,207 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-11 15:43:32,298 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-11 15:43:32,298 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-11 15:43:32,299 main.py[line: 78] INFO: 按项目运行测试
2017-10-11 15:43:32,299 main.py[line: 115] INFO: 运行指定项目
2017-10-11 15:43:32,384 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-11 15:43:32,384 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-11 15:43:32,513 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-11 15:43:32,514 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-11 15:43:32,604 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-11 15:43:32,703 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-11 15:43:32,703 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-11 15:43:32,953 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-11 15:43:33,054 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-11 14:11:34', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-11 15:43:33,150 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-11 15:43:33,150 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171011154332', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171011154332')
2017-10-11 15:43:33,175 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-11 15:43:33,176 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-11 15:43:33,176 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-11 15:43:33,176 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-11 15:43:33,177 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171011154332', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171011154332')
2017-10-11 15:43:33,210 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 70 (char 69),停止执行用例[id=3, name=Login]
2017-10-12 09:29:02,674 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 09:29:02,688 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 09:29:12,701 mydb.py[line: 30] ERROR: 初始化数据连接失败：(2003, "Can't connect to MySQL server on '10.2.5.139' (timed out)")
2017-10-12 09:34:06,316 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 09:34:06,317 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 09:34:06,328 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 09:34:06,330 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 09:38:25,590 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 09:38:25,590 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 09:38:25,610 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 09:38:25,621 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 09:41:23,238 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 09:41:23,239 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 09:41:23,260 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 09:41:23,271 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 09:41:37,059 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 09:41:37,060 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 09:41:37,080 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 09:41:37,091 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 09:44:06,550 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 09:44:06,551 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 09:44:06,562 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 09:44:06,564 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 09:44:06,798 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 09:44:06,798 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 09:44:06,800 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 09:44:06,800 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 09:44:06,802 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 09:44:06,811 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 09:44:06,811 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 09:44:06,906 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 09:44:06,907 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 09:44:06,907 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 09:44:06,907 main.py[line: 115] INFO: 运行指定项目
2017-10-12 09:44:07,005 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 09:44:07,006 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 09:44:07,140 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 09:44:07,140 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 09:44:07,244 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 09:44:07,333 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 09:44:07,333 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 09:44:07,563 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 09:44:07,664 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 09:27:40', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 09:44:07,772 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 09:44:07,772 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012094406', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012094406')
2017-10-12 09:44:07,920 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 09:44:07,920 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 09:44:07,921 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 09:44:07,921 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 09:44:07,922 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012094406', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012094406')
2017-10-12 09:44:07,968 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 09:46:08,160 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 09:46:08,160 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 09:46:08,171 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 09:46:08,173 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 09:50:43,406 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 09:50:43,407 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 09:50:43,419 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 09:50:43,421 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 09:54:33,264 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 09:54:33,265 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 09:54:33,276 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 09:54:33,287 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 09:58:13,203 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 09:58:13,204 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 09:58:13,223 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 09:58:13,226 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 09:59:34,196 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 09:59:34,197 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 09:59:34,207 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 09:59:34,209 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 10:50:07,849 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 10:50:07,849 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 10:50:07,869 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 10:50:07,880 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 10:51:01,309 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 10:51:01,310 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 10:51:01,319 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 10:51:01,322 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 10:51:01,373 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 10:51:01,373 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 10:51:01,375 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 10:51:01,375 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 10:51:01,376 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 10:51:01,377 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 10:51:01,377 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 10:51:01,482 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 10:51:01,483 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 10:51:01,484 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 10:51:01,484 main.py[line: 115] INFO: 运行指定项目
2017-10-12 10:51:01,574 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 10:51:01,574 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 10:51:01,704 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 10:51:01,704 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 10:51:01,864 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 10:51:01,961 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 10:51:01,963 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 10:51:02,178 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 10:51:02,280 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 09:27:40', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 10:51:02,377 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 10:51:02,377 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012105101', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012105101')
2017-10-12 10:51:02,418 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 10:51:02,418 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 10:51:02,419 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 10:51:02,420 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 10:51:02,420 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012105101', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012105101')
2017-10-12 10:51:02,441 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 11:06:10,007 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 11:06:10,007 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 11:06:10,019 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 11:06:10,021 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 11:06:10,068 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 11:06:10,069 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 11:06:10,071 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 11:06:10,071 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 11:06:10,073 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 11:06:10,074 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 11:06:10,075 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 11:06:10,171 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 11:06:10,172 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 11:06:10,172 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 11:06:10,173 main.py[line: 115] INFO: 运行指定项目
2017-10-12 11:06:10,272 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 11:06:10,273 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 11:06:10,406 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 11:06:10,406 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 11:06:10,505 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 11:06:10,601 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 11:06:10,602 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 11:06:10,819 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 11:06:10,921 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 09:27:40', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 11:06:11,020 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 11:06:11,021 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012110610', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012110610')
2017-10-12 11:06:11,050 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 11:06:11,051 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 11:06:11,075 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 11:06:11,075 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 11:06:11,076 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012110610', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012110610')
2017-10-12 11:06:11,132 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 11:10:18,598 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 11:10:18,599 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 11:10:18,611 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 11:10:18,623 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 11:10:18,676 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 11:10:18,676 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 11:10:18,678 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 11:10:18,678 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 11:10:18,680 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 11:10:18,681 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 11:10:18,681 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 11:10:18,783 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 11:10:18,783 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 11:10:18,783 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 11:10:18,784 main.py[line: 115] INFO: 运行指定项目
2017-10-12 11:10:18,882 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 11:10:18,883 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 11:10:19,017 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 11:10:19,017 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 11:10:19,116 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 11:10:19,216 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 11:10:19,216 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 11:10:19,606 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 11:10:19,708 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 09:27:40', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 11:10:19,805 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 11:10:19,805 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012111018', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012111018')
2017-10-12 11:10:19,837 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 11:10:19,837 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 11:10:19,837 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 11:10:19,838 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 11:10:19,838 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012111018', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012111018')
2017-10-12 11:10:19,860 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 11:10:19,861 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 11:10:19,861 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ':' delimiter: line 1 column 138 (char 137)", protocol_method="post", runtime="2017-10-12 11:10:19" WHERE executed_history_id = 20171012111018 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 11:10:19,912 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 11:10:19,912 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 11:10:19" WHERE executed_history_id = 20171012111018 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 11:10:20,034 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 11:10:20,190 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 11:10:20,192 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 11:10:20,193 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 11:10:20,193 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012111018',)
2017-10-12 11:10:20,194 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 11:10:20,194 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012111018')
2017-10-12 11:10:20,194 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 11:10:20,195 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012111018')
2017-10-12 11:10:20,195 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 11:10:20,195 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012111018')
2017-10-12 11:10:20,195 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 11:10:20,196 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012111018')
2017-10-12 11:10:20,196 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 11:10:20,196 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012111018',)
2017-10-12 11:10:20,197 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 11:10:20,197 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012111018')
2017-10-12 11:10:20,197 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 11:10:20,198 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 11:10:20,198 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012111018',)
2017-10-12 11:10:20,198 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 11:10:20,199 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012111018')
2017-10-12 11:10:20,199 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 11:10:20,200 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012111018')
2017-10-12 11:10:20,200 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 11:10:20,200 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012111018.html
2017-10-12 11:10:20,201 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 11:10:20,215 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 11:10:20,593 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012111018.html
2017-10-12 11:10:20,593 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 11:10:23,376 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 11:14:28,028 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 11:14:28,029 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 11:14:28,048 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 11:14:28,050 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 11:14:28,101 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 11:14:28,102 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 11:14:28,104 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 11:14:28,104 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 11:14:28,105 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 11:14:28,106 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 11:14:28,107 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 11:14:28,201 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 11:14:28,201 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 11:14:28,202 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 11:14:28,202 main.py[line: 115] INFO: 运行指定项目
2017-10-12 11:14:28,289 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 11:14:28,290 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 11:14:28,423 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 11:14:28,424 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 11:14:28,524 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 11:14:28,625 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 11:14:28,625 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 11:14:28,835 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 11:14:28,938 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 09:27:40', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 11:14:29,026 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 11:14:29,027 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012111428', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012111428')
2017-10-12 11:14:29,057 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 11:14:29,058 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 11:14:29,058 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 11:14:29,059 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 11:14:29,060 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012111428', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012111428')
2017-10-12 11:14:29,081 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 11:18:13,266 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 11:18:13,268 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 11:18:13,287 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 11:18:13,298 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 11:18:13,347 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 11:18:13,348 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 11:18:13,350 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 11:18:13,350 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 11:18:13,352 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 11:18:13,353 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 11:18:13,353 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 11:18:13,456 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 11:18:13,457 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 11:18:13,457 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 11:18:13,457 main.py[line: 115] INFO: 运行指定项目
2017-10-12 11:18:13,554 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 11:18:13,554 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 11:18:13,688 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 11:18:13,689 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 11:18:13,779 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 11:18:13,867 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 11:18:13,868 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 11:18:14,179 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 11:18:14,277 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:11', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&#39;<strong>方法</strong>&#39;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 11:18:14,390 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 11:18:14,391 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012111813', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012111813')
2017-10-12 11:18:14,434 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 11:18:14,435 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},'方法':"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 11:18:14,436 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 11:18:14,436 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 11:18:14,437 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012111813', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},\'方法\':"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012111813')
2017-10-12 11:18:14,493 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 11:19:34,528 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 11:19:34,529 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 11:19:34,540 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 11:19:34,543 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 11:19:34,595 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 11:19:34,595 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 11:19:34,597 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 11:19:34,598 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 11:19:34,598 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 11:19:34,600 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 11:19:34,600 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 11:19:34,703 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 11:19:34,703 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 11:19:34,703 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 11:19:34,704 main.py[line: 115] INFO: 运行指定项目
2017-10-12 11:19:34,790 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 11:19:34,790 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 11:19:34,924 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 11:19:34,924 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 11:19:35,039 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 11:19:35,137 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 11:19:35,137 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 11:19:35,385 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 11:19:35,492 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 11:19:35,590 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 11:19:35,590 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012111934', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012111934')
2017-10-12 11:19:35,625 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 11:19:35,625 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 11:19:35,625 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 11:19:35,626 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 11:19:35,626 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012111934', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012111934')
2017-10-12 11:19:35,649 testcase.py[line: 77] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 11:19:56,863 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 11:19:56,863 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 11:19:56,875 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 11:19:56,887 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 11:19:56,939 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 11:19:56,940 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 11:19:56,942 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 11:19:56,943 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 11:19:56,945 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 11:19:56,946 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 11:19:56,946 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 11:19:57,039 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 11:19:57,040 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 11:19:57,040 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 11:19:57,040 main.py[line: 115] INFO: 运行指定项目
2017-10-12 11:19:57,139 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 11:19:57,139 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 11:19:57,275 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 11:19:57,275 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 11:19:57,373 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 11:19:57,471 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 11:19:57,471 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 11:19:57,712 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 11:19:57,812 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 11:19:57,901 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 11:19:57,901 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012111956', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012111956')
2017-10-12 11:19:57,934 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 11:19:57,934 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 11:19:57,935 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 11:19:57,936 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 11:19:57,936 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012111956', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012111956')
2017-10-12 11:19:57,984 testcase.py[line: 77] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 11:22:23,054 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 11:22:23,054 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 11:22:23,065 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 11:22:23,077 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 11:22:23,128 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 11:22:23,129 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 11:22:23,130 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 11:22:23,130 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 11:22:23,132 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 11:22:23,133 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 11:22:23,133 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 11:22:23,240 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 11:22:23,241 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 11:22:23,241 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 11:22:23,241 main.py[line: 115] INFO: 运行指定项目
2017-10-12 11:22:23,327 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 11:22:23,327 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 11:22:23,461 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 11:22:23,461 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 11:22:23,562 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 11:22:23,661 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 11:22:23,661 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 11:22:24,043 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 11:22:24,134 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 11:22:24,232 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 11:22:24,233 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012112223', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012112223')
2017-10-12 11:22:24,265 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 11:22:24,265 testcase.py[line: 41] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 11:22:24,266 testcase.py[line: 43] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 11:22:24,266 testcase.py[line: 62] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 11:22:24,266 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012112223', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012112223')
2017-10-12 11:22:24,429 testcase.py[line: 77] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 11:24:53,777 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 11:24:53,777 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 11:24:53,789 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 11:24:53,801 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 11:24:53,854 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 11:24:53,854 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 11:24:53,856 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 11:24:53,857 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 11:24:53,858 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 11:24:53,859 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 11:24:53,859 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 11:24:53,955 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 11:24:53,956 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 11:24:53,956 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 11:24:53,957 main.py[line: 115] INFO: 运行指定项目
2017-10-12 11:24:54,049 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 11:24:54,049 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 11:24:54,185 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 11:24:54,185 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 11:24:54,279 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 11:24:54,372 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 11:24:54,372 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 11:24:54,600 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 11:24:54,695 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 11:24:54,792 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 11:24:54,793 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012112453', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012112453')
2017-10-12 11:24:54,838 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 11:24:54,838 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 11:24:54,839 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 11:24:54,839 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 11:24:54,840 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012112453', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012112453')
2017-10-12 11:24:54,863 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 11:26:04,542 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 11:26:04,542 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 11:26:04,563 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 11:26:04,565 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 11:26:49,974 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 11:26:49,975 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 11:26:49,992 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 11:26:49,994 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 11:26:50,074 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 11:26:50,074 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 11:26:50,077 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 11:26:50,077 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 11:26:50,079 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 11:26:50,080 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 11:26:50,080 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 11:26:50,181 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 11:26:50,181 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 11:26:50,182 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 11:26:50,184 main.py[line: 115] INFO: 运行指定项目
2017-10-12 11:26:50,272 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 11:26:50,274 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 11:26:50,413 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 11:26:50,413 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 11:26:50,514 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 11:26:50,612 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 11:26:50,612 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 11:26:50,829 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 11:26:50,931 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 11:26:51,030 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 11:26:51,030 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012112649', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012112649')
2017-10-12 11:26:51,059 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 11:26:51,059 testcase.py[line: 41] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 11:26:51,060 testcase.py[line: 43] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 11:26:51,060 testcase.py[line: 62] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 11:26:51,060 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012112649', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012112649')
2017-10-12 11:26:51,083 testcase.py[line: 77] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 11:27:08,442 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 11:27:08,443 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 11:27:08,454 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 11:27:08,456 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 11:27:08,509 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 11:27:08,509 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 11:27:08,512 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 11:27:08,512 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 11:27:08,514 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 11:27:08,515 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 11:27:08,515 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 11:27:08,621 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 11:27:08,622 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 11:27:08,622 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 11:27:08,622 main.py[line: 115] INFO: 运行指定项目
2017-10-12 11:27:08,712 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 11:27:08,713 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 11:27:08,846 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 11:27:08,847 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 11:27:08,946 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 11:27:09,036 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 11:27:09,037 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 11:27:09,334 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 11:27:09,429 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 11:27:09,538 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 11:27:09,538 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012112708', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012112708')
2017-10-12 11:27:09,608 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 11:27:09,608 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 11:27:09,608 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 11:27:09,631 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 11:27:09,632 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012112708', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012112708')
2017-10-12 11:27:09,658 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 11:27:27,449 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 11:27:27,449 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 11:27:27,469 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 11:27:27,471 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 11:27:27,525 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 11:27:27,526 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 11:27:27,527 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 11:27:27,528 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 11:27:27,529 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 11:27:27,530 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 11:27:27,530 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 11:27:27,623 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 11:27:27,623 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 11:27:27,624 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 11:27:27,624 main.py[line: 115] INFO: 运行指定项目
2017-10-12 11:27:27,719 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 11:27:27,719 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 11:27:27,857 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 11:27:27,858 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 11:27:27,950 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 11:27:28,036 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 11:27:28,036 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 11:27:28,325 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 11:27:28,428 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 11:27:28,516 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 11:27:28,516 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012112727', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012112727')
2017-10-12 11:27:28,555 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 11:27:28,556 testcase.py[line: 41] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 11:27:28,556 testcase.py[line: 43] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 11:27:28,557 testcase.py[line: 62] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 11:27:28,557 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012112727', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012112727')
2017-10-12 11:27:28,582 testcase.py[line: 77] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 14:37:33,078 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 14:37:33,078 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 14:37:33,099 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 14:37:33,101 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 14:37:33,154 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 14:37:33,155 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 14:37:33,157 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 14:37:33,158 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 14:37:33,159 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 14:37:33,161 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 14:37:33,162 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 14:37:33,265 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 14:37:33,266 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 14:37:33,266 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 14:37:33,267 main.py[line: 115] INFO: 运行指定项目
2017-10-12 14:37:33,355 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 14:37:33,355 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 14:37:33,492 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 14:37:33,492 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 14:37:33,583 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 14:37:33,679 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 14:37:33,680 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 14:37:33,879 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 14:37:33,981 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 14:37:34,077 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 14:37:34,077 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012143733', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012143733')
2017-10-12 14:37:34,107 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 14:37:34,108 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 14:37:34,108 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 14:37:34,109 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 14:37:34,109 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012143733', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012143733')
2017-10-12 14:37:34,133 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 14:47:07,443 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 14:47:07,444 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 14:47:07,463 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 14:47:07,465 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 14:47:07,517 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 14:47:07,518 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 14:47:07,519 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 14:47:07,520 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 14:47:07,521 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 14:47:07,522 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 14:47:07,522 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 14:47:07,611 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 14:47:07,613 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 14:47:07,613 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 14:47:07,614 main.py[line: 115] INFO: 运行指定项目
2017-10-12 14:47:07,703 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 14:47:07,704 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 14:47:07,835 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 14:47:07,835 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 14:47:07,924 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 14:47:08,020 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 14:47:08,020 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 14:47:08,513 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 14:47:08,617 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 14:47:08,717 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 14:47:08,717 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012144707', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012144707')
2017-10-12 14:47:08,769 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 14:47:08,770 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 14:47:08,770 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 14:47:08,770 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 14:47:08,772 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012144707', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012144707')
2017-10-12 14:47:08,796 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 14:47:08,796 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 14:47:08,796 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ':' delimiter: line 1 column 138 (char 137)", protocol_method="post", runtime="2017-10-12 14:47:08" WHERE executed_history_id = 20171012144707 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:47:08,837 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 14:47:08,838 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 14:47:08" WHERE executed_history_id = 20171012144707 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:47:08,981 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 14:47:09,106 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 14:47:09,107 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 14:47:09,108 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 14:47:09,108 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012144707',)
2017-10-12 14:47:09,109 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 14:47:09,109 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012144707')
2017-10-12 14:47:09,110 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 14:47:09,110 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012144707')
2017-10-12 14:47:09,110 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 14:47:09,110 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012144707')
2017-10-12 14:47:09,111 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 14:47:09,111 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012144707')
2017-10-12 14:47:09,112 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 14:47:09,112 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012144707',)
2017-10-12 14:47:09,113 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 14:47:09,113 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012144707')
2017-10-12 14:47:09,113 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 14:47:09,114 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 14:47:09,114 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012144707',)
2017-10-12 14:47:09,114 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 14:47:09,114 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012144707')
2017-10-12 14:47:09,115 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 14:47:09,115 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012144707')
2017-10-12 14:47:09,116 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 14:47:09,116 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012144707.html
2017-10-12 14:47:09,117 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 14:47:09,118 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 14:47:09,508 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012144707.html
2017-10-12 14:47:09,508 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 14:47:10,819 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 14:48:15,776 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 14:48:15,779 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 14:48:15,798 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 14:48:15,809 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 14:48:15,856 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 14:48:15,856 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 14:48:15,857 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 14:48:15,858 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 14:48:15,859 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 14:48:15,860 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 14:48:15,860 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 14:48:15,964 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 14:48:15,964 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 14:48:15,964 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 14:48:15,965 main.py[line: 115] INFO: 运行指定项目
2017-10-12 14:48:16,059 main.py[line: 131] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 14:48:16,060 main.py[line: 134] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 14:48:16,192 main.py[line: 150] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 14:48:16,192 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 14:48:16,290 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 14:48:16,384 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 14:48:16,384 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 14:48:16,608 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 14:48:16,699 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 14:48:16,784 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 14:48:16,784 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012144815', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012144815')
2017-10-12 14:48:16,821 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 14:48:16,821 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 14:48:16,823 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 14:48:16,823 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 14:48:16,823 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012144815', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012144815')
2017-10-12 14:48:16,880 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 14:48:16,881 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 14:48:16,881 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ':' delimiter: line 1 column 138 (char 137)", protocol_method="post", runtime="2017-10-12 14:48:16" WHERE executed_history_id = 20171012144815 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:48:16,954 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 14:48:16,955 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 14:48:16" WHERE executed_history_id = 20171012144815 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:48:17,080 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 14:48:17,216 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 14:48:17,217 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 14:48:17,217 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 14:48:17,218 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012144815',)
2017-10-12 14:48:17,218 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 14:48:17,219 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012144815')
2017-10-12 14:48:17,219 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 14:48:17,219 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012144815')
2017-10-12 14:48:17,220 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 14:48:17,220 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012144815')
2017-10-12 14:48:17,220 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 14:48:17,220 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012144815')
2017-10-12 14:48:17,221 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 14:48:17,221 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012144815',)
2017-10-12 14:48:17,221 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 14:48:17,222 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012144815')
2017-10-12 14:48:17,222 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 14:48:17,222 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 14:48:17,222 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012144815',)
2017-10-12 14:48:17,223 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 14:48:17,223 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012144815')
2017-10-12 14:48:17,224 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 14:48:17,224 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012144815')
2017-10-12 14:48:17,225 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 14:48:17,225 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012144815.html
2017-10-12 14:48:17,235 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 14:48:17,249 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 14:48:17,617 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012144815.html
2017-10-12 14:48:17,618 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 14:48:18,890 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 14:49:52,774 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 14:49:52,774 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 14:49:52,785 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 14:49:52,787 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 14:49:52,833 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 14:49:52,834 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 14:49:52,836 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 14:49:52,836 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 14:49:52,837 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 14:49:52,838 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 14:49:52,838 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 14:49:52,933 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 14:49:52,935 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 14:49:52,937 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 14:49:52,937 main.py[line: 82] INFO: 运行所有项目
2017-10-12 14:49:53,042 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 14:49:53,042 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 14:49:53,176 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 14:49:53,176 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 14:49:53,259 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 14:49:53,354 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 14:49:53,354 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 14:49:53,603 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 14:49:53,701 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 14:49:53,804 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 14:49:53,805 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012144952', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012144952')
2017-10-12 14:49:53,834 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 14:49:53,834 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 14:49:53,835 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 14:49:53,835 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 14:49:53,836 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012144952', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012144952')
2017-10-12 14:49:53,876 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 14:49:53,876 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 14:49:53,876 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ':' delimiter: line 1 column 138 (char 137)", protocol_method="post", runtime="2017-10-12 14:49:53" WHERE executed_history_id = 20171012144952 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:49:53,909 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 14:49:53,909 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 14:49:53" WHERE executed_history_id = 20171012144952 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:49:54,063 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 14:49:54,195 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 14:49:54,196 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 14:49:54,197 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 14:49:54,197 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012144952',)
2017-10-12 14:49:54,198 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 14:49:54,198 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012144952')
2017-10-12 14:49:54,199 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 14:49:54,199 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012144952')
2017-10-12 14:49:54,199 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 14:49:54,200 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012144952')
2017-10-12 14:49:54,200 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 14:49:54,200 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012144952')
2017-10-12 14:49:54,200 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 14:49:54,200 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012144952',)
2017-10-12 14:49:54,201 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 14:49:54,201 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012144952')
2017-10-12 14:49:54,202 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 14:49:54,202 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 14:49:54,202 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012144952',)
2017-10-12 14:49:54,203 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 14:49:54,203 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012144952')
2017-10-12 14:49:54,203 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 14:49:54,203 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012144952')
2017-10-12 14:49:54,204 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 14:49:54,204 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012144952.html
2017-10-12 14:49:54,205 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 14:49:54,206 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 14:49:54,603 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012144952.html
2017-10-12 14:49:54,603 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 14:49:55,855 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 14:50:32,322 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 14:50:32,322 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 14:50:32,333 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 14:50:32,335 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 14:50:32,382 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 14:50:32,383 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 14:50:32,385 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 14:50:32,385 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 14:50:32,386 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 14:50:32,388 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 14:50:32,388 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[1]
2017-10-12 14:50:32,487 global_function.py[line: 21] ERROR: 获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!
getTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1}),,暂停执行该用例
2017-10-12 14:50:32,488 main.py[line: 75] INFO: 用例[1]运行结果：('Fail', [('global_funtion_module', "获取用例信息失败 5000: (getTestCase) - The Test Case ID (testcaseid: 1) provided does not exist!\ngetTestCase({'devKey': 'd70990589373d8952df0bfab57b13d3e', 'testcaseid': 1})")])
2017-10-12 14:50:32,488 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 14:50:32,488 main.py[line: 82] INFO: 运行所有项目
2017-10-12 14:50:32,584 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 14:50:32,584 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 14:50:32,718 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 14:50:32,718 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 14:50:32,813 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 14:50:32,913 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 14:50:32,913 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 14:50:33,137 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 14:50:33,244 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 14:50:33,341 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 14:50:33,341 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012145032', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012145032')
2017-10-12 14:50:33,374 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 14:50:33,374 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 14:50:33,375 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 14:50:33,375 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 14:50:33,375 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012145032', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012145032')
2017-10-12 14:50:33,398 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 14:50:33,399 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 14:50:33,399 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ':' delimiter: line 1 column 138 (char 137)", protocol_method="post", runtime="2017-10-12 14:50:33" WHERE executed_history_id = 20171012145032 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:50:33,424 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 14:50:33,424 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 14:50:33" WHERE executed_history_id = 20171012145032 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:50:33,562 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 14:50:33,677 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 14:50:33,678 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 14:50:33,678 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 14:50:33,679 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012145032',)
2017-10-12 14:50:33,679 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 14:50:33,680 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012145032')
2017-10-12 14:50:33,681 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 14:50:33,681 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012145032')
2017-10-12 14:50:33,681 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 14:50:33,681 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012145032')
2017-10-12 14:50:33,682 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 14:50:33,682 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012145032')
2017-10-12 14:50:33,682 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 14:50:33,682 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012145032',)
2017-10-12 14:50:33,683 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 14:50:33,683 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012145032')
2017-10-12 14:50:33,684 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 14:50:33,684 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 14:50:33,684 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012145032',)
2017-10-12 14:50:33,685 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 14:50:33,685 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012145032')
2017-10-12 14:50:33,685 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 14:50:33,686 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012145032')
2017-10-12 14:50:33,686 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 14:50:33,686 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012145032.html
2017-10-12 14:50:33,687 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 14:50:33,687 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 14:50:34,013 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012145032.html
2017-10-12 14:50:34,015 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 14:50:35,244 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 14:52:10,848 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 14:52:10,849 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 14:52:10,860 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 14:52:10,872 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 14:52:10,918 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 14:52:10,919 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 14:52:10,920 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 14:52:10,920 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 14:52:10,921 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 14:52:10,922 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 14:52:10,922 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 14:52:10,923 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 14:52:10,923 main.py[line: 82] INFO: 运行所有项目
2017-10-12 14:52:11,012 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 14:52:11,012 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 14:52:11,144 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 14:52:11,145 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 14:52:11,232 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 14:52:11,325 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 14:52:11,326 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 14:52:11,590 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 14:52:11,682 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 14:52:11,776 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 14:52:11,776 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012145210', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012145210')
2017-10-12 14:52:11,812 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 14:52:11,812 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 14:52:11,812 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 14:52:11,813 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 14:52:11,813 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012145210', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012145210')
2017-10-12 14:52:11,836 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 14:52:11,837 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 14:52:11,840 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ':' delimiter: line 1 column 138 (char 137)", protocol_method="post", runtime="2017-10-12 14:52:11" WHERE executed_history_id = 20171012145210 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:52:11,870 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 14:52:11,871 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 14:52:11" WHERE executed_history_id = 20171012145210 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:52:11,993 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 14:52:12,123 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 14:52:12,123 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 14:52:12,124 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 14:52:12,124 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012145210',)
2017-10-12 14:52:12,125 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 14:52:12,125 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012145210')
2017-10-12 14:52:12,127 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 14:52:12,127 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012145210')
2017-10-12 14:52:12,128 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 14:52:12,128 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012145210')
2017-10-12 14:52:12,128 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 14:52:12,129 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012145210')
2017-10-12 14:52:12,129 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 14:52:12,129 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012145210',)
2017-10-12 14:52:12,130 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 14:52:12,130 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012145210')
2017-10-12 14:52:12,131 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 14:52:12,131 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 14:52:12,131 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012145210',)
2017-10-12 14:52:12,132 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 14:52:12,132 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012145210')
2017-10-12 14:52:12,133 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 14:52:12,133 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012145210')
2017-10-12 14:52:12,134 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 14:52:12,134 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012145210.html
2017-10-12 14:52:12,134 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 14:52:12,156 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 14:52:12,523 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012145210.html
2017-10-12 14:52:12,524 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 14:52:13,737 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 14:57:35,987 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 14:57:35,988 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 14:57:35,998 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 14:57:36,002 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 14:57:36,112 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 14:57:36,113 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 14:57:36,117 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 14:57:36,117 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 14:57:36,118 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 14:57:36,119 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 14:57:36,121 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 14:57:36,121 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 14:57:36,121 main.py[line: 82] INFO: 运行所有项目
2017-10-12 14:57:36,226 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 14:57:36,227 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 14:57:36,363 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 14:57:36,363 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 14:57:36,450 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 14:57:36,566 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 14:57:36,566 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 14:57:36,832 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 14:57:36,935 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 14:57:37,041 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 14:57:37,041 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012145736', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012145736')
2017-10-12 14:57:37,086 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 14:57:37,086 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 14:57:37,087 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 14:57:37,087 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 14:57:37,087 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012145736', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012145736')
2017-10-12 14:57:37,144 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 14:57:37,145 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 14:57:37,145 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ':' delimiter: line 1 column 138 (char 137)", protocol_method="post", runtime="2017-10-12 14:57:37" WHERE executed_history_id = 20171012145736 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:57:37,228 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 14:57:37,229 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 14:57:37" WHERE executed_history_id = 20171012145736 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:57:37,411 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 14:57:37,564 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 14:57:37,564 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 14:57:37,566 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 14:57:37,566 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012145736',)
2017-10-12 14:57:37,567 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 14:57:37,567 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012145736')
2017-10-12 14:57:37,567 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 14:57:37,567 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012145736')
2017-10-12 14:57:37,568 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 14:57:37,568 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012145736')
2017-10-12 14:57:37,569 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 14:57:37,569 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012145736')
2017-10-12 14:57:37,569 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 14:57:37,570 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012145736',)
2017-10-12 14:57:37,570 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 14:57:37,570 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012145736')
2017-10-12 14:57:37,571 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 14:57:37,571 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 14:57:37,571 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012145736',)
2017-10-12 14:57:37,572 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 14:57:37,572 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012145736')
2017-10-12 14:57:37,572 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 14:57:37,572 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012145736')
2017-10-12 14:57:37,573 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 14:57:37,573 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012145736.html
2017-10-12 14:57:37,573 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 14:57:37,574 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 14:57:37,947 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012145736.html
2017-10-12 14:57:37,947 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 14:57:39,193 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 14:58:20,462 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 14:58:20,463 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 14:58:20,473 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 14:58:20,485 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 14:58:20,532 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 14:58:20,532 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 14:58:20,533 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 14:58:20,534 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 14:58:20,535 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 14:58:20,536 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 14:58:20,536 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 14:58:20,536 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 14:58:20,536 main.py[line: 82] INFO: 运行所有项目
2017-10-12 14:58:20,629 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 14:58:20,645 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 14:58:20,779 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 14:58:20,779 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 14:58:20,878 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 14:58:20,977 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 14:58:20,977 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 14:58:21,224 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3'])
2017-10-12 14:58:21,327 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '0', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 14:58:21,416 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 14:58:21,417 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012145820', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012145820')
2017-10-12 14:58:21,445 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 14:58:21,445 testcase.py[line: 28] WARNING: 用例[name=Login]处于禁用状态[active=0]，不执行
2017-10-12 14:58:21,446 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 14:58:21,446 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Block", runtime="2017-10-12 14:58:21" WHERE executed_history_id = 20171012145820 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 14:58:21,568 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 14:58:21,568 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 14:58:21,569 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 14:58:21,569 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 14:58:21,570 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012145820',)
2017-10-12 14:58:21,570 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 14:58:21,571 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012145820')
2017-10-12 14:58:21,571 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 14:58:21,572 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012145820')
2017-10-12 14:58:21,572 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 14:58:21,572 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012145820')
2017-10-12 14:58:21,573 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 14:58:21,573 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012145820')
2017-10-12 14:58:21,573 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 14:58:21,573 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012145820',)
2017-10-12 14:58:21,574 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 14:58:21,574 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012145820')
2017-10-12 14:58:21,575 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 14:58:21,575 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 14:58:21,575 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012145820',)
2017-10-12 14:58:21,575 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 14:58:21,575 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012145820')
2017-10-12 14:58:21,576 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 14:58:21,576 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012145820')
2017-10-12 14:58:21,577 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 14:58:21,577 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012145820.html
2017-10-12 14:58:21,577 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 14:58:21,598 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 14:58:21,970 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012145820.html
2017-10-12 14:58:21,973 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 14:58:23,818 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 15:00:35,597 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 15:00:35,597 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 15:00:35,608 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 15:00:35,619 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 15:00:35,665 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 15:00:35,665 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 15:00:35,667 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 15:00:35,667 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 15:00:35,669 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 15:00:35,670 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 15:00:35,670 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 15:00:35,670 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 15:00:35,671 main.py[line: 82] INFO: 运行所有项目
2017-10-12 15:00:35,764 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 15:00:35,765 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 15:00:35,901 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 15:00:35,901 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 15:00:35,997 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 15:00:36,118 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 15:00:36,118 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 15:00:36,583 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 15:00:36,675 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '0', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 15:00:36,766 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 15:00:36,766 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012150035', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012150035')
2017-10-12 15:00:36,814 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 15:00:36,814 testcase.py[line: 28] WARNING: 用例[name=Login]处于禁用状态[active=0]，不执行
2017-10-12 15:00:36,814 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 15:00:36,814 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Block", runtime="2017-10-12 15:00:36" WHERE executed_history_id = 20171012150035 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 15:00:37,059 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 15:00:37,161 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'LoginOut', 'node_order': '1001', 'testsuite_id': '2', 'testcase_id': '7', 'id': '8', 'tc_external_id': '2', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户退出登录</p>\n', 'preconditions': '<p>测试用户退出登录</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-10-12 14:42:08', 'updater_id': '2', 'modification_ts': '2017-10-12 14:59:48', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '9', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n\n<p>&nbsp;</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-2'}]
2017-10-12 15:00:37,277 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 15:00:37,277 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012150035', 7, 'LoginOut', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012150035')
2017-10-12 15:00:37,339 testplan.py[line: 72] INFO: 开始执行测试用例[id=7，name=LoginOut]
2017-10-12 15:00:37,340 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}} 
2017-10-12 15:00:37,341 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 15:00:37,341 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 15:00:37,341 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012150035', 7, 'LoginOut', 'plant_of_api_test', 'API_Test_Project', 9, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}} ', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012150035')
2017-10-12 15:00:37,397 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=7, name=LoginOut]
2017-10-12 15:00:37,398 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 15:00:37,398 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ':' delimiter: line 1 column 138 (char 137)", protocol_method="post", runtime="2017-10-12 15:00:37" WHERE executed_history_id = 20171012150035 AND testcase_id = 7 AND step_id = 9 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 15:00:37,443 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 15:00:37,444 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 15:00:37" WHERE executed_history_id = 20171012150035 AND testcase_id = 7 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 15:00:37,574 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=7]的执行结果
2017-10-12 15:00:37,709 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 15:00:37,709 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 15:00:37,710 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 15:00:37,711 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012150035',)
2017-10-12 15:00:37,712 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 15:00:37,712 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012150035')
2017-10-12 15:00:37,712 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 15:00:37,713 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012150035')
2017-10-12 15:00:37,713 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 15:00:37,714 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012150035')
2017-10-12 15:00:37,714 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 15:00:37,714 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012150035')
2017-10-12 15:00:37,715 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 15:00:37,715 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012150035',)
2017-10-12 15:00:37,716 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 15:00:37,716 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012150035')
2017-10-12 15:00:37,716 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 15:00:37,717 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 15:00:37,717 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012150035',)
2017-10-12 15:00:37,718 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 15:00:37,719 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012150035')
2017-10-12 15:00:37,719 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 15:00:37,720 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012150035')
2017-10-12 15:00:37,721 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=7]步骤运行结果
2017-10-12 15:00:37,721 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 7, '20171012150035')
2017-10-12 15:00:37,722 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 15:00:37,723 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012150035.html
2017-10-12 15:00:37,723 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 15:00:37,724 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 15:00:38,078 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012150035.html
2017-10-12 15:00:38,078 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 15:00:39,281 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 15:03:44,145 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 15:03:44,146 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 15:03:44,156 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 15:03:44,158 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 15:03:44,209 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 15:03:44,209 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 15:03:44,211 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 15:03:44,211 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 15:03:44,212 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 15:03:44,214 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 15:03:44,214 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 15:03:44,214 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 15:03:44,214 main.py[line: 82] INFO: 运行所有项目
2017-10-12 15:03:44,318 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 15:03:44,319 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 15:03:44,453 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 15:03:44,456 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 15:03:44,554 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 15:03:44,652 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 15:03:44,653 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 15:03:45,006 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 15:03:45,108 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 11:18:31', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 15:03:45,196 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 15:03:45,197 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012150344', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012150344')
2017-10-12 15:03:45,228 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 15:03:45,228 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 15:03:45,228 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 15:03:45,229 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 15:03:45,229 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012150344', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012150344')
2017-10-12 15:03:45,349 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 17:03:54,596 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:03:54,597 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:03:54,608 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:03:54,610 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:03:54,660 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:03:54,661 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:03:54,663 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:03:54,664 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:03:54,665 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:03:54,666 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:03:54,667 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:03:54,667 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:03:54,668 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:03:54,765 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:03:54,765 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:03:54,904 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:03:54,904 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:03:55,000 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:03:55,099 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:03:55,100 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:03:55,330 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:03:55,435 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:03:52', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:03:55,537 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:03:55,537 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012170354', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012170354')
2017-10-12 17:03:55,568 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:03:55,569 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:03:55,569 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 17:03:55,570 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:03:55,570 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012170354', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012170354')
2017-10-12 17:03:55,603 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ',' delimiter: line 1 column 110 (char 109),停止执行用例[id=3, name=Login]
2017-10-12 17:03:55,604 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 17:03:55,604 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ',' delimiter: line 1 column 110 (char 109)", protocol_method="post", runtime="2017-10-12 17:03:55" WHERE executed_history_id = 20171012170354 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:03:55,627 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:03:55,627 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:03:55" WHERE executed_history_id = 20171012170354 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:03:55,765 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 17:03:56,082 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'LoginOut', 'node_order': '1001', 'testsuite_id': '2', 'testcase_id': '7', 'id': '8', 'tc_external_id': '2', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户退出登录</p>\n', 'preconditions': '<p>测试用户退出登录</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-10-12 14:42:08', 'updater_id': '2', 'modification_ts': '2017-10-12 14:59:48', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '9', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n\n<p>&nbsp;</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-2'}]
2017-10-12 17:03:56,182 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:03:56,183 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012170354', 7, 'LoginOut', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012170354')
2017-10-12 17:03:56,210 testplan.py[line: 72] INFO: 开始执行测试用例[id=7，name=LoginOut]
2017-10-12 17:03:56,211 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}} 
2017-10-12 17:03:56,211 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 17:03:56,211 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:03:56,211 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012170354', 7, 'LoginOut', 'plant_of_api_test', 'API_Test_Project', 9, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}} ', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012170354')
2017-10-12 17:03:56,252 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=7, name=LoginOut]
2017-10-12 17:04:32,231 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:04:32,232 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:04:32,252 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:04:32,254 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:04:32,305 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:04:32,308 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:04:32,310 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:04:32,310 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:04:32,312 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:04:32,313 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:04:32,313 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:04:32,313 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:04:32,314 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:04:32,409 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:04:32,410 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:04:32,547 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:04:32,547 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:04:32,644 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:04:32,736 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:04:32,737 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:04:33,103 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:04:33,200 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:03:52', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:04:33,293 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:04:33,293 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012170432', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012170432')
2017-10-12 17:04:33,325 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:04:33,325 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:04:33,325 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 17:04:33,325 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:04:33,326 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012170432', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012170432')
2017-10-12 17:04:33,350 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ',' delimiter: line 1 column 110 (char 109),停止执行用例[id=3, name=Login]
2017-10-12 17:04:33,351 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 17:04:33,352 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ',' delimiter: line 1 column 110 (char 109)", protocol_method="post", runtime="2017-10-12 17:04:33" WHERE executed_history_id = 20171012170432 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:04:33,400 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:04:33,400 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:04:33" WHERE executed_history_id = 20171012170432 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:04:33,527 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 17:04:33,767 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'LoginOut', 'node_order': '1001', 'testsuite_id': '2', 'testcase_id': '7', 'id': '8', 'tc_external_id': '2', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户退出登录</p>\n', 'preconditions': '<p>测试用户退出登录</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-10-12 14:42:08', 'updater_id': '2', 'modification_ts': '2017-10-12 17:04:28', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '9', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n\n<p>&nbsp;</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-2'}]
2017-10-12 17:04:33,864 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:04:33,865 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012170432', 7, 'LoginOut', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012170432')
2017-10-12 17:04:33,891 testplan.py[line: 72] INFO: 开始执行测试用例[id=7，name=LoginOut]
2017-10-12 17:04:33,892 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}} 
2017-10-12 17:04:33,893 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 17:04:33,893 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:04:33,893 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012170432', 7, 'LoginOut', 'plant_of_api_test', 'API_Test_Project', 9, 1, '', 'http', '10.2.5.139', 8080, '{"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}} ', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012170432')
2017-10-12 17:04:33,925 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ',' delimiter: line 1 column 110 (char 109),停止执行用例[id=7, name=LoginOut]
2017-10-12 17:04:33,926 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 17:04:33,927 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ',' delimiter: line 1 column 110 (char 109)", protocol_method="post", runtime="2017-10-12 17:04:33" WHERE executed_history_id = 20171012170432 AND testcase_id = 7 AND step_id = 9 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:04:33,942 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:04:33,942 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:04:33" WHERE executed_history_id = 20171012170432 AND testcase_id = 7 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:04:34,064 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=7]的执行结果
2017-10-12 17:04:34,203 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 17:04:34,204 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 17:04:34,205 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 17:04:34,205 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012170432',)
2017-10-12 17:04:34,206 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 17:04:34,206 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012170432')
2017-10-12 17:04:34,207 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 17:04:34,207 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012170432')
2017-10-12 17:04:34,208 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 17:04:34,208 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012170432')
2017-10-12 17:04:34,210 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 17:04:34,213 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012170432')
2017-10-12 17:04:34,214 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 17:04:34,214 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012170432',)
2017-10-12 17:04:34,215 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 17:04:34,215 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012170432')
2017-10-12 17:04:34,216 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 17:04:34,216 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 17:04:34,216 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012170432',)
2017-10-12 17:04:34,217 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 17:04:34,217 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012170432')
2017-10-12 17:04:34,218 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 17:04:34,218 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012170432')
2017-10-12 17:04:34,219 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=7]步骤运行结果
2017-10-12 17:04:34,219 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 7, '20171012170432')
2017-10-12 17:04:34,221 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 17:04:34,221 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012170432.html
2017-10-12 17:04:34,221 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 17:04:34,223 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 17:04:34,594 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012170432.html
2017-10-12 17:04:34,594 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 17:04:36,888 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 17:07:29,368 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:07:29,368 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:07:29,379 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:07:29,381 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:07:29,430 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:07:29,430 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:07:29,435 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:07:29,435 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:07:29,437 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:07:29,438 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:07:29,438 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:07:29,438 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:07:29,438 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:07:29,534 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:07:29,534 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:07:29,674 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:07:29,675 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:07:29,778 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:07:29,882 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:07:29,883 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:07:30,130 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:07:30,226 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:07:25', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p><em>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</em></p>\n\n<p><em>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</em></p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:07:30,318 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:07:30,318 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012170729', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012170729')
2017-10-12 17:07:30,380 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:07:30,380 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:07:30,381 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 17:07:30,381 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:07:30,381 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012170729', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012170729')
2017-10-12 17:07:30,459 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 17:07:48,715 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:07:48,716 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:07:48,735 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:07:48,747 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:07:48,797 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:07:48,798 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:07:48,800 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:07:48,800 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:07:48,802 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:07:48,803 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:07:48,803 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:07:48,803 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:07:48,803 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:07:48,895 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:07:48,898 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:07:49,036 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:07:49,037 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:07:49,130 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:07:49,221 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:07:49,221 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:07:49,445 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:07:49,548 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:07:47', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&nbsp;&quot;charset&quot;=&quot;UTF-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:07:49,641 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:07:49,641 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012170748', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012170748')
2017-10-12 17:07:49,667 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:07:49,667 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:07:49,667 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 17:07:49,668 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:07:49,668 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012170748', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012170748')
2017-10-12 17:07:49,692 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 70 (char 69),停止执行用例[id=3, name=Login]
2017-10-12 17:11:59,857 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:11:59,860 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:11:59,879 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:11:59,881 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:11:59,931 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:11:59,931 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:11:59,933 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:11:59,933 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:11:59,934 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:11:59,935 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:11:59,935 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:11:59,936 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:11:59,936 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:12:00,034 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:12:00,034 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:12:00,172 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:12:00,172 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:12:00,271 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:12:00,371 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:12:00,371 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:12:00,633 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:12:00,728 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:11:52', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{<br />\n&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,<br />\n&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,<br />\n&quot;请求头&quot;：{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},<br />\n&quot;方法&quot;:&quot;post&quot;,<br />\n&quot;url&quot;:&quot;/login/login/?&quot;,<br />\n&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}<br />\n}</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:12:00,821 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:12:00,821 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171159', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012171159')
2017-10-12 17:12:00,855 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:12:00,855 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:12:00,855 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 17:12:00,856 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:12:00,856 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171159', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012171159')
2017-10-12 17:12:00,897 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ',' delimiter: line 1 column 110 (char 109),停止执行用例[id=3, name=Login]
2017-10-12 17:12:00,897 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 17:12:00,898 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ',' delimiter: line 1 column 110 (char 109)", protocol_method="post", runtime="2017-10-12 17:12:00" WHERE executed_history_id = 20171012171159 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:12:00,930 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:12:00,931 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:12:00" WHERE executed_history_id = 20171012171159 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:12:01,174 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 17:12:01,443 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'LoginOut', 'node_order': '1001', 'testsuite_id': '2', 'testcase_id': '7', 'id': '8', 'tc_external_id': '2', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户退出登录</p>\n', 'preconditions': '<p>测试用户退出登录</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-10-12 14:42:08', 'updater_id': '2', 'modification_ts': '2017-10-12 17:04:28', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '9', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}</p>\n\n<p>}</p>\n\n<p>&nbsp;</p>\n', 'expected_results': '<p>{</p>\n\n<p>&quot;检查&quot;:&quot;body&quot;,</p>\n\n<p>&quot;匹配规则&quot;:&quot;包含字符串&quot;,</p>\n\n<p>&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;,&quot;消息&quot;:&quot;登陆成功&quot;}],</p>\n\n<p>&quot;输出&quot;:{&quot;success&quot;:&quot;\\&quot;success\\&quot;:(.+?),&quot;attach&quot;:&quot;attach\\&quot;:&quot;(.+?)\\&quot;&quot;}</p>\n\n<p>}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-2'}]
2017-10-12 17:12:01,533 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:12:01,533 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171159', 7, 'LoginOut', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012171159')
2017-10-12 17:12:01,563 testplan.py[line: 72] INFO: 开始执行测试用例[id=7，name=LoginOut]
2017-10-12 17:12:01,564 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}} 
2017-10-12 17:12:01,564 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true","消息":"登陆成功"}],"输出":{"success":"\"success\":(.+?),"attach":"attach\":"(.+?)\""}}
2017-10-12 17:12:01,564 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:12:01,564 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171159', 7, 'LoginOut', 'plant_of_api_test', 'API_Test_Project', 9, 1, '', 'http', '10.2.5.139', 8080, '{"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}} ', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true","消息":"登陆成功"}],"输出":{"success":"\\"success\\":(.+?),"attach":"attach\\":"(.+?)\\""}}', 'Block', '', '20171012171159')
2017-10-12 17:12:01,588 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ',' delimiter: line 1 column 110 (char 109),停止执行用例[id=7, name=LoginOut]
2017-10-12 17:12:01,589 testcase.py[line: 81] INFO: 正在更新步骤执行结果
2017-10-12 17:12:01,589 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Block",reason="Expecting ',' delimiter: line 1 column 110 (char 109)", protocol_method="post", runtime="2017-10-12 17:12:01" WHERE executed_history_id = 20171012171159 AND testcase_id = 7 AND step_id = 9 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:12:01,613 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:12:01,614 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:12:01" WHERE executed_history_id = 20171012171159 AND testcase_id = 7 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:12:01,758 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=7]的执行结果
2017-10-12 17:12:01,917 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 17:12:01,917 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 17:12:01,918 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 17:12:01,918 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012171159',)
2017-10-12 17:12:01,919 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 17:12:01,919 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012171159')
2017-10-12 17:12:01,919 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 17:12:01,919 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012171159')
2017-10-12 17:12:01,920 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 17:12:01,920 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012171159')
2017-10-12 17:12:01,920 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 17:12:01,920 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012171159')
2017-10-12 17:12:01,920 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 17:12:01,921 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012171159',)
2017-10-12 17:12:01,921 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 17:12:01,921 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012171159')
2017-10-12 17:12:01,922 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 17:12:01,922 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 17:12:01,923 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012171159',)
2017-10-12 17:12:01,923 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 17:12:01,923 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012171159')
2017-10-12 17:12:01,924 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 17:12:01,924 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012171159')
2017-10-12 17:12:01,925 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=7]步骤运行结果
2017-10-12 17:12:01,925 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 7, '20171012171159')
2017-10-12 17:12:01,925 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 17:12:01,926 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012171159.html
2017-10-12 17:12:01,926 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 17:12:01,927 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 17:12:02,254 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012171159.html
2017-10-12 17:12:02,255 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 17:12:03,539 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 17:16:02,237 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:16:02,244 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:16:02,265 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:16:02,280 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:16:02,330 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:16:02,330 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:16:02,332 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:16:02,332 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:16:02,334 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:16:02,335 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:16:02,335 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:16:02,335 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:16:02,336 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:16:02,424 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:16:02,428 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:16:02,562 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:16:02,563 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:16:02,663 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:16:02,761 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:16:02,761 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:16:02,985 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:16:03,102 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:15:46', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{<br />\n&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,<br />\n&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,<br />\n&quot;请求头&quot;：{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},<br />\n&quot;方法&quot;:&quot;post&quot;,<br />\n&quot;url&quot;:&quot;/login/login/?&quot;,<br />\n&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}<br />\n}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:16:03,203 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:16:03,204 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171602', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012171602')
2017-10-12 17:16:03,239 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:16:03,244 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:16:03,256 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}}
2017-10-12 17:16:03,256 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:16:03,256 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171602', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}}', 'Block', '', '20171012171602')
2017-10-12 17:16:03,289 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:16:03,294 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:16:03,304 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:16:03,305 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:16:03,305 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:16:03,308 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=3, name=Login]
2017-10-12 17:16:03,308 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:16:03,308 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:16:03",step_action="{'\u7c7b\u540d': 'InterfaceUnittestTestCase', '\u51fd\u6570': 'test_interface_of_urlencode', '\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012171602 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:16:03,331 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:16:03,333 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:16:03" WHERE executed_history_id = 20171012171602 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:16:03,463 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 17:16:03,698 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'LoginOut', 'node_order': '1001', 'testsuite_id': '2', 'testcase_id': '7', 'id': '8', 'tc_external_id': '2', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户退出登录</p>\n', 'preconditions': '<p>测试用户退出登录</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-10-12 14:42:08', 'updater_id': '2', 'modification_ts': '2017-10-12 17:15:54', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '9', 'step_number': '1', 'actions': '<p>{<br />\n&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,<br />\n&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,<br />\n&quot;请求头&quot;：{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},<br />\n&quot;方法&quot;:&quot;post&quot;,<br />\n&quot;url&quot;:&quot;/login/login/?&quot;,<br />\n&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}<br />\n}</p>\n\n<p>&nbsp;</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n\n<p>&nbsp;</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-2'}]
2017-10-12 17:16:03,789 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:16:03,789 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171602', 7, 'LoginOut', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012171602')
2017-10-12 17:16:03,806 testplan.py[line: 72] INFO: 开始执行测试用例[id=7，name=LoginOut]
2017-10-12 17:16:03,806 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}} 
2017-10-12 17:16:03,807 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}} 
2017-10-12 17:16:03,807 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:16:03,807 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171602', 7, 'LoginOut', 'plant_of_api_test', 'API_Test_Project', 9, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}} ', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}} ', 'Block', '', '20171012171602')
2017-10-12 17:16:03,865 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:16:03,865 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:16:03,865 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:16:03,866 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:16:03,866 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:16:03,868 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=7, name=LoginOut]
2017-10-12 17:16:03,868 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:16:03,868 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:16:03",step_action="{'\u7c7b\u540d': 'InterfaceUnittestTestCase', '\u51fd\u6570': 'test_interface_of_urlencode', '\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012171602 AND testcase_id = 7 AND step_id = 9 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:16:03,915 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:16:03,915 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:16:03" WHERE executed_history_id = 20171012171602 AND testcase_id = 7 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:16:04,050 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=7]的执行结果
2017-10-12 17:16:04,276 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 17:16:04,277 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 17:16:04,278 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 17:16:04,283 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012171602',)
2017-10-12 17:16:04,283 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 17:16:04,284 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012171602')
2017-10-12 17:16:04,284 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 17:16:04,285 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012171602')
2017-10-12 17:16:04,285 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 17:16:04,286 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012171602')
2017-10-12 17:16:04,286 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 17:16:04,286 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012171602')
2017-10-12 17:16:04,287 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 17:16:04,287 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012171602',)
2017-10-12 17:16:04,288 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 17:16:04,288 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012171602')
2017-10-12 17:16:04,289 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 17:16:04,289 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 17:16:04,290 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012171602',)
2017-10-12 17:16:04,290 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 17:16:04,290 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012171602')
2017-10-12 17:16:04,291 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 17:16:04,291 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012171602')
2017-10-12 17:16:04,292 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=7]步骤运行结果
2017-10-12 17:16:04,292 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 7, '20171012171602')
2017-10-12 17:16:04,293 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 17:16:04,293 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012171602.html
2017-10-12 17:16:04,293 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 17:16:04,316 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 17:16:04,708 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012171602.html
2017-10-12 17:16:04,708 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 17:16:06,008 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 17:17:15,976 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:17:15,976 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:17:15,996 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:17:16,008 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:17:16,061 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:17:16,062 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:17:16,064 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:17:16,064 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:17:16,065 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:17:16,066 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:17:16,071 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:17:16,071 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:17:16,072 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:17:16,164 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:17:16,164 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:17:16,303 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:17:16,304 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:17:16,398 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:17:16,500 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:17:16,501 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:17:16,713 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:17:16,819 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:17:09', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{<br />\n&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,<br />\n&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,<br />\n&quot;请求头&quot;：{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},<br />\n&quot;方法&quot;:&quot;post&quot;,<br />\n&quot;url&quot;:&quot;/login/login/?&quot;,<br />\n&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}<br />\n}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:17:16,912 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:17:16,912 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171716', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012171716')
2017-10-12 17:17:16,943 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:17:16,943 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:17:16,944 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}}
2017-10-12 17:17:16,948 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:17:16,948 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171716', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}}', 'Block', '', '20171012171716')
2017-10-12 17:17:16,984 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:17:16,985 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:17:16,985 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:17:16,985 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:17:16,986 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:17:16,987 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=3, name=Login]
2017-10-12 17:17:16,987 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:17:16,987 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:17:16",step_action="{'\u7c7b\u540d': 'InterfaceUnittestTestCase', '\u51fd\u6570': 'test_interface_of_urlencode', '\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012171716 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:17:17,009 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:17:17,010 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:17:16" WHERE executed_history_id = 20171012171716 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:17:17,134 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 17:17:17,375 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'LoginOut', 'node_order': '1001', 'testsuite_id': '2', 'testcase_id': '7', 'id': '8', 'tc_external_id': '2', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户退出登录</p>\n', 'preconditions': '<p>测试用户退出登录</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-10-12 14:42:08', 'updater_id': '2', 'modification_ts': '2017-10-12 17:15:54', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '9', 'step_number': '1', 'actions': '<p>{<br />\n&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,<br />\n&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,<br />\n&quot;请求头&quot;：{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},<br />\n&quot;方法&quot;:&quot;post&quot;,<br />\n&quot;url&quot;:&quot;/login/login/?&quot;,<br />\n&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}<br />\n}</p>\n\n<p>&nbsp;</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n\n<p>&nbsp;</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-2'}]
2017-10-12 17:17:17,483 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:17:17,484 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171716', 7, 'LoginOut', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012171716')
2017-10-12 17:17:17,509 testplan.py[line: 72] INFO: 开始执行测试用例[id=7，name=LoginOut]
2017-10-12 17:17:17,510 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}} 
2017-10-12 17:17:17,510 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}} 
2017-10-12 17:17:17,510 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:17:17,510 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171716', 7, 'LoginOut', 'plant_of_api_test', 'API_Test_Project', 9, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}} ', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}} ', 'Block', '', '20171012171716')
2017-10-12 17:17:17,593 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:17:17,593 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:17:17,594 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:17:17,594 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:17:17,594 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:17:17,595 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=7, name=LoginOut]
2017-10-12 17:17:17,595 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:17:17,595 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:17:17",step_action="{'\u7c7b\u540d': 'InterfaceUnittestTestCase', '\u51fd\u6570': 'test_interface_of_urlencode', '\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012171716 AND testcase_id = 7 AND step_id = 9 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:17:17,626 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:17:17,627 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:17:17" WHERE executed_history_id = 20171012171716 AND testcase_id = 7 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:17:17,797 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=7]的执行结果
2017-10-12 17:17:17,921 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 17:17:17,921 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 17:17:17,922 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 17:17:17,923 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012171716',)
2017-10-12 17:17:17,924 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 17:17:17,924 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012171716')
2017-10-12 17:17:17,924 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 17:17:17,924 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012171716')
2017-10-12 17:17:17,925 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 17:17:17,925 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012171716')
2017-10-12 17:17:17,925 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 17:17:17,926 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012171716')
2017-10-12 17:17:17,926 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 17:17:17,926 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012171716',)
2017-10-12 17:17:17,927 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 17:17:17,927 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012171716')
2017-10-12 17:17:17,928 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 17:17:17,928 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 17:17:17,928 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012171716',)
2017-10-12 17:17:17,929 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 17:17:17,929 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012171716')
2017-10-12 17:17:17,929 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 17:17:17,930 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012171716')
2017-10-12 17:17:17,931 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=7]步骤运行结果
2017-10-12 17:17:17,931 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 7, '20171012171716')
2017-10-12 17:17:17,932 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 17:17:17,932 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012171716.html
2017-10-12 17:17:17,932 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 17:17:17,963 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 17:17:18,295 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012171716.html
2017-10-12 17:17:18,296 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 17:17:19,554 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 17:18:37,556 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:18:37,556 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:18:37,568 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:18:37,579 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:18:37,627 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:18:37,627 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:18:37,629 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:18:37,629 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:18:37,630 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:18:37,631 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:18:37,631 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:18:37,631 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:18:37,631 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:18:37,724 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:18:37,724 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:18:37,860 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:18:37,860 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:18:37,966 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:18:38,069 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:18:38,070 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:18:38,286 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:18:38,389 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:18:26', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,<br />\n&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,<br />\n&quot;请求头&quot;：{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},<br />\n&quot;方法&quot;:&quot;post&quot;,<br />\n&quot;url&quot;:&quot;/login/login/?&quot;,<br />\n&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:18:38,489 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:18:38,491 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171837', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012171837')
2017-10-12 17:18:38,516 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:18:38,516 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:18:38,520 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}}
2017-10-12 17:18:38,521 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:18:38,521 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171837', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}}', 'Block', '', '20171012171837')
2017-10-12 17:18:38,549 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:18:38,550 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:18:38,550 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:18:38,550 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:18:38,550 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:18:38,552 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=3, name=Login]
2017-10-12 17:18:38,552 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:18:38,552 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:18:38",step_action="{'\u7c7b\u540d': 'InterfaceUnittestTestCase', '\u51fd\u6570': 'test_interface_of_urlencode', '\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012171837 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:18:38,574 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:18:38,580 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:18:38" WHERE executed_history_id = 20171012171837 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:18:38,700 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 17:18:38,936 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'LoginOut', 'node_order': '1001', 'testsuite_id': '2', 'testcase_id': '7', 'id': '8', 'tc_external_id': '2', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户退出登录</p>\n', 'preconditions': '<p>测试用户退出登录</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-10-12 14:42:08', 'updater_id': '2', 'modification_ts': '2017-10-12 17:18:32', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '9', 'step_number': '1', 'actions': '<p>{&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,<br />\n&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,<br />\n&quot;请求头&quot;：{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},<br />\n&quot;方法&quot;:&quot;post&quot;,<br />\n&quot;url&quot;:&quot;/login/login/?&quot;,<br />\n&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n\n<p>&nbsp;</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-2'}]
2017-10-12 17:18:39,038 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:18:39,039 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171837', 7, 'LoginOut', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012171837')
2017-10-12 17:18:39,066 testplan.py[line: 72] INFO: 开始执行测试用例[id=7，name=LoginOut]
2017-10-12 17:18:39,077 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:18:39,078 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}} 
2017-10-12 17:18:39,078 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:18:39,079 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012171837', 7, 'LoginOut', 'plant_of_api_test', 'API_Test_Project', 9, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}} ', 'Block', '', '20171012171837')
2017-10-12 17:18:39,302 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:18:39,302 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:18:39,302 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:18:39,303 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:18:39,303 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:18:39,304 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=7, name=LoginOut]
2017-10-12 17:18:39,305 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:18:39,305 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:18:39",step_action="{'\u7c7b\u540d': 'InterfaceUnittestTestCase', '\u51fd\u6570': 'test_interface_of_urlencode', '\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012171837 AND testcase_id = 7 AND step_id = 9 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:18:39,399 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:18:39,399 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:18:39" WHERE executed_history_id = 20171012171837 AND testcase_id = 7 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:18:39,527 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=7]的执行结果
2017-10-12 17:18:39,645 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 17:18:39,646 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 17:18:39,646 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 17:18:39,647 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012171837',)
2017-10-12 17:18:39,647 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 17:18:39,647 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012171837')
2017-10-12 17:18:39,648 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 17:18:39,648 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012171837')
2017-10-12 17:18:39,649 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 17:18:39,660 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012171837')
2017-10-12 17:18:39,661 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 17:18:39,661 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012171837')
2017-10-12 17:18:39,662 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 17:18:39,662 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012171837',)
2017-10-12 17:18:39,662 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 17:18:39,663 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012171837')
2017-10-12 17:18:39,664 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 17:18:39,664 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 17:18:39,664 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012171837',)
2017-10-12 17:18:39,665 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 17:18:39,665 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012171837')
2017-10-12 17:18:39,666 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 17:18:39,666 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012171837')
2017-10-12 17:18:39,667 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=7]步骤运行结果
2017-10-12 17:18:39,667 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 7, '20171012171837')
2017-10-12 17:18:39,668 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 17:18:39,672 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012171837.html
2017-10-12 17:18:39,672 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 17:18:39,673 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 17:18:40,073 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012171837.html
2017-10-12 17:18:40,074 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 17:18:41,759 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 17:22:56,246 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:22:56,247 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:22:56,267 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:22:56,269 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:22:56,319 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:22:56,319 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:22:56,321 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:22:56,321 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:22:56,322 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:22:56,324 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:22:56,324 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:22:56,324 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:22:56,324 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:22:56,431 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:22:56,431 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:22:56,567 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:22:56,567 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:22:56,668 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:22:56,756 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:22:56,756 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:22:56,960 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:22:57,069 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:22:53', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},&quot;方法&quot;:&quot;post&quot;,&quot;url&quot;:&quot;/login/login/?&quot;,&quot;参数&quot;: {&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:22:57,183 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:22:57,185 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172256', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172256')
2017-10-12 17:22:57,314 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:22:57,315 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数": {"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:22:57,315 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}}
2017-10-12 17:22:57,316 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:22:57,316 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172256', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数": {"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}}', 'Block', '', '20171012172256')
2017-10-12 17:22:57,360 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:22:57,361 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:22:57,361 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:22:57,361 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:22:57,361 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:22:57,363 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=3, name=Login]
2017-10-12 17:22:57,363 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:22:57,363 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:22:57",step_action="{'\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012172256 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:22:57,449 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:22:57,449 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:22:57" WHERE executed_history_id = 20171012172256 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:22:57,584 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 17:22:57,888 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'LoginOut', 'node_order': '1001', 'testsuite_id': '2', 'testcase_id': '7', 'id': '8', 'tc_external_id': '2', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户退出登录</p>\n', 'preconditions': '<p>测试用户退出登录</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-10-12 14:42:08', 'updater_id': '2', 'modification_ts': '2017-10-12 17:18:32', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '9', 'step_number': '1', 'actions': '<p>{&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,<br />\n&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,<br />\n&quot;请求头&quot;：{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},<br />\n&quot;方法&quot;:&quot;post&quot;,<br />\n&quot;url&quot;:&quot;/login/login/?&quot;,<br />\n&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n\n<p>&nbsp;</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-2'}]
2017-10-12 17:22:57,990 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:22:57,991 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172256', 7, 'LoginOut', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172256')
2017-10-12 17:22:58,024 testplan.py[line: 72] INFO: 开始执行测试用例[id=7，name=LoginOut]
2017-10-12 17:22:58,026 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:22:58,026 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}} 
2017-10-12 17:22:58,026 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:22:58,027 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172256', 7, 'LoginOut', 'plant_of_api_test', 'API_Test_Project', 9, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}} ', 'Block', '', '20171012172256')
2017-10-12 17:22:58,086 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:22:58,086 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:22:58,086 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:22:58,087 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:22:58,087 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:22:58,088 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=7, name=LoginOut]
2017-10-12 17:22:58,088 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:22:58,088 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:22:58",step_action="{'\u7c7b\u540d': 'InterfaceUnittestTestCase', '\u51fd\u6570': 'test_interface_of_urlencode', '\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012172256 AND testcase_id = 7 AND step_id = 9 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:22:58,149 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:22:58,153 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:22:58" WHERE executed_history_id = 20171012172256 AND testcase_id = 7 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:22:58,293 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=7]的执行结果
2017-10-12 17:22:58,609 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 17:22:58,609 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 17:22:58,610 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 17:22:58,610 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012172256',)
2017-10-12 17:22:58,611 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 17:22:58,611 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012172256')
2017-10-12 17:22:58,612 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 17:22:58,612 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012172256')
2017-10-12 17:22:58,613 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 17:22:58,613 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012172256')
2017-10-12 17:22:58,614 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 17:22:58,614 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012172256')
2017-10-12 17:22:58,614 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 17:22:58,614 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012172256',)
2017-10-12 17:22:58,615 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 17:22:58,615 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012172256')
2017-10-12 17:22:58,616 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 17:22:58,616 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 17:22:58,617 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012172256',)
2017-10-12 17:22:58,621 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 17:22:58,622 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012172256')
2017-10-12 17:22:58,622 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 17:22:58,622 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012172256')
2017-10-12 17:22:58,623 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=7]步骤运行结果
2017-10-12 17:22:58,623 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 7, '20171012172256')
2017-10-12 17:22:58,624 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 17:22:58,624 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012172256.html
2017-10-12 17:22:58,625 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 17:22:58,626 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 17:22:58,979 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012172256.html
2017-10-12 17:22:58,980 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 17:23:00,230 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 17:23:34,187 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:23:34,187 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:23:34,207 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:23:34,209 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:23:34,257 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:23:34,257 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:23:34,259 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:23:34,259 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:23:34,265 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:23:34,267 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:23:34,267 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:23:34,267 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:23:34,267 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:23:34,373 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:23:34,374 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:23:34,511 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:23:34,511 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:23:34,610 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:23:34,712 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:23:34,713 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:23:34,933 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:23:35,037 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:23:28', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;: {&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:23:35,129 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:23:35,129 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172334', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172334')
2017-10-12 17:23:35,163 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:23:35,164 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数": {"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:23:35,164 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}}
2017-10-12 17:23:35,164 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:23:35,164 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172334', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数": {"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}}', 'Block', '', '20171012172334')
2017-10-12 17:23:35,188 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:23:35,188 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:23:35,189 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:23:35,189 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:23:35,189 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:23:35,191 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=3, name=Login]
2017-10-12 17:23:35,191 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:23:35,191 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:23:35",step_action="{'\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012172334 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:23:35,230 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:23:35,230 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:23:35" WHERE executed_history_id = 20171012172334 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:23:35,346 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 17:23:35,597 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'LoginOut', 'node_order': '1001', 'testsuite_id': '2', 'testcase_id': '7', 'id': '8', 'tc_external_id': '2', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户退出登录</p>\n', 'preconditions': '<p>测试用户退出登录</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-10-12 14:42:08', 'updater_id': '2', 'modification_ts': '2017-10-12 17:18:32', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '9', 'step_number': '1', 'actions': '<p>{&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,<br />\n&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,<br />\n&quot;请求头&quot;：{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},<br />\n&quot;方法&quot;:&quot;post&quot;,<br />\n&quot;url&quot;:&quot;/login/login/?&quot;,<br />\n&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n\n<p>&nbsp;</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-2'}]
2017-10-12 17:23:35,688 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:23:35,689 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172334', 7, 'LoginOut', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172334')
2017-10-12 17:23:35,738 testplan.py[line: 72] INFO: 开始执行测试用例[id=7，name=LoginOut]
2017-10-12 17:23:35,739 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:23:35,739 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}} 
2017-10-12 17:23:35,739 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:23:35,739 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172334', 7, 'LoginOut', 'plant_of_api_test', 'API_Test_Project', 9, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}} ', 'Block', '', '20171012172334')
2017-10-12 17:23:35,780 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:23:35,780 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:23:35,781 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:23:35,781 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:23:35,781 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:23:35,782 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=7, name=LoginOut]
2017-10-12 17:23:35,783 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:23:35,783 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:23:35",step_action="{'\u7c7b\u540d': 'InterfaceUnittestTestCase', '\u51fd\u6570': 'test_interface_of_urlencode', '\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012172334 AND testcase_id = 7 AND step_id = 9 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:23:35,855 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:23:35,855 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:23:35" WHERE executed_history_id = 20171012172334 AND testcase_id = 7 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:23:36,018 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=7]的执行结果
2017-10-12 17:23:36,161 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 17:23:36,161 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 17:23:36,162 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 17:23:36,162 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012172334',)
2017-10-12 17:23:36,163 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 17:23:36,163 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012172334')
2017-10-12 17:23:36,164 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 17:23:36,164 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012172334')
2017-10-12 17:23:36,164 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 17:23:36,164 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012172334')
2017-10-12 17:23:36,165 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 17:23:36,165 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012172334')
2017-10-12 17:23:36,165 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 17:23:36,165 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012172334',)
2017-10-12 17:23:36,166 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 17:23:36,166 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012172334')
2017-10-12 17:23:36,167 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 17:23:36,167 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 17:23:36,167 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012172334',)
2017-10-12 17:23:36,168 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 17:23:36,172 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012172334')
2017-10-12 17:23:36,173 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 17:23:36,173 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012172334')
2017-10-12 17:23:36,174 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=7]步骤运行结果
2017-10-12 17:23:36,174 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 7, '20171012172334')
2017-10-12 17:23:36,175 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 17:23:36,175 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012172334.html
2017-10-12 17:23:36,175 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 17:23:36,176 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 17:23:36,518 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012172334.html
2017-10-12 17:23:36,519 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 17:23:37,773 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 17:24:15,044 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:24:15,044 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:24:15,055 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:24:15,058 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:24:15,162 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:24:15,162 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:24:15,164 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:24:15,165 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:24:15,166 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:24:15,167 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:24:15,167 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:24:15,168 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:24:15,168 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:24:15,269 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:24:15,269 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:24:15,407 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:24:15,407 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:24:15,508 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:24:15,596 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:24:15,596 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:24:15,823 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:24:15,928 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:23:28', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;: {&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:24:16,029 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:24:16,030 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172415', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172415')
2017-10-12 17:24:16,054 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:24:16,057 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数": {"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:24:16,057 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}}
2017-10-12 17:24:16,057 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:24:16,058 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172415', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数": {"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}}', 'Block', '', '20171012172415')
2017-10-12 17:24:16,079 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:24:16,079 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:24:16,080 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:24:16,080 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:24:16,081 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:24:16,083 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=3, name=Login]
2017-10-12 17:24:16,083 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:24:16,084 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:24:16",step_action="{'\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012172415 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:24:16,120 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:24:16,121 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:24:16" WHERE executed_history_id = 20171012172415 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:24:16,246 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 17:24:16,512 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'LoginOut', 'node_order': '1001', 'testsuite_id': '2', 'testcase_id': '7', 'id': '8', 'tc_external_id': '2', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户退出登录</p>\n', 'preconditions': '<p>测试用户退出登录</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-10-12 14:42:08', 'updater_id': '2', 'modification_ts': '2017-10-12 17:18:32', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '9', 'step_number': '1', 'actions': '<p>{&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,<br />\n&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,<br />\n&quot;请求头&quot;：{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},<br />\n&quot;方法&quot;:&quot;post&quot;,<br />\n&quot;url&quot;:&quot;/login/login/?&quot;,<br />\n&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n\n<p>&nbsp;</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-2'}]
2017-10-12 17:24:16,612 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:24:16,612 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172415', 7, 'LoginOut', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172415')
2017-10-12 17:24:16,637 testplan.py[line: 72] INFO: 开始执行测试用例[id=7，name=LoginOut]
2017-10-12 17:24:16,637 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:24:16,637 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}} 
2017-10-12 17:24:16,637 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:24:16,638 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172415', 7, 'LoginOut', 'plant_of_api_test', 'API_Test_Project', 9, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}} ', 'Block', '', '20171012172415')
2017-10-12 17:24:16,662 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:24:16,663 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:24:16,663 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:24:16,664 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:24:16,664 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:24:16,666 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=7, name=LoginOut]
2017-10-12 17:24:16,666 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:24:16,666 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:24:16",step_action="{'\u7c7b\u540d': 'InterfaceUnittestTestCase', '\u51fd\u6570': 'test_interface_of_urlencode', '\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012172415 AND testcase_id = 7 AND step_id = 9 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:24:16,687 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:24:16,688 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:24:16" WHERE executed_history_id = 20171012172415 AND testcase_id = 7 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:24:16,826 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=7]的执行结果
2017-10-12 17:24:16,950 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 17:24:16,950 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 17:24:16,950 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 17:24:16,950 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012172415',)
2017-10-12 17:24:16,951 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 17:24:16,951 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012172415')
2017-10-12 17:24:16,952 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 17:24:16,952 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012172415')
2017-10-12 17:24:16,953 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 17:24:16,953 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012172415')
2017-10-12 17:24:16,954 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 17:24:16,954 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012172415')
2017-10-12 17:24:16,955 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 17:24:16,955 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012172415',)
2017-10-12 17:24:16,956 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 17:24:16,956 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012172415')
2017-10-12 17:24:16,957 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 17:24:16,957 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 17:24:16,957 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012172415',)
2017-10-12 17:24:16,958 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 17:24:16,958 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012172415')
2017-10-12 17:24:16,959 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 17:24:16,960 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012172415')
2017-10-12 17:24:16,961 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=7]步骤运行结果
2017-10-12 17:24:16,961 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 7, '20171012172415')
2017-10-12 17:24:16,962 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 17:24:16,963 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012172415.html
2017-10-12 17:24:16,971 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 17:24:16,972 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 17:24:18,685 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012172415.html
2017-10-12 17:24:18,685 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 17:24:21,153 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 17:24:52,844 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:24:52,845 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:24:54,270 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:24:54,272 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:24:54,322 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:24:54,322 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:24:54,324 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:24:54,325 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:24:54,326 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:24:54,328 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:24:54,328 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:24:54,328 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:24:54,328 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:24:54,431 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:24:54,432 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:24:54,568 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:24:54,568 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:24:54,662 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:24:54,757 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:24:54,757 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:24:54,964 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:24:55,070 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:24:49', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p><em>{</em></p>\n\n<p><em>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},</em></p>\n\n<p><em>&quot;方法&quot;:&quot;post&quot;,</em></p>\n\n<p><em>&quot;url&quot;:&quot;/login/login/?&quot;,</em></p>\n\n<p><em>&quot;参数&quot;: {&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</em></p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:24:55,161 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:24:55,161 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172454', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172454')
2017-10-12 17:24:55,194 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:24:55,209 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数": {"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:24:55,210 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}}
2017-10-12 17:24:55,210 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:24:55,214 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172454', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数": {"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}}', 'Block', '', '20171012172454')
2017-10-12 17:24:55,236 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:24:55,236 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:24:55,236 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:24:55,236 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:24:55,237 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:24:55,238 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=3, name=Login]
2017-10-12 17:24:55,239 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:24:55,239 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:24:55",step_action="{'\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012172454 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:24:55,261 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:24:55,261 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:24:55" WHERE executed_history_id = 20171012172454 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:24:55,461 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 17:24:55,691 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'LoginOut', 'node_order': '1001', 'testsuite_id': '2', 'testcase_id': '7', 'id': '8', 'tc_external_id': '2', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户退出登录</p>\n', 'preconditions': '<p>测试用户退出登录</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-10-12 14:42:08', 'updater_id': '2', 'modification_ts': '2017-10-12 17:18:32', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '9', 'step_number': '1', 'actions': '<p>{&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,<br />\n&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,<br />\n&quot;请求头&quot;：{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},<br />\n&quot;方法&quot;:&quot;post&quot;,<br />\n&quot;url&quot;:&quot;/login/login/?&quot;,<br />\n&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n\n<p>&nbsp;</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-2'}]
2017-10-12 17:24:55,793 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:24:55,794 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172454', 7, 'LoginOut', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172454')
2017-10-12 17:24:55,828 testplan.py[line: 72] INFO: 开始执行测试用例[id=7，name=LoginOut]
2017-10-12 17:24:55,828 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:24:55,828 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}} 
2017-10-12 17:24:55,828 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:24:55,829 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172454', 7, 'LoginOut', 'plant_of_api_test', 'API_Test_Project', 9, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}} ', 'Block', '', '20171012172454')
2017-10-12 17:24:55,861 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:24:55,861 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:24:55,862 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:24:55,862 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:24:55,862 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:24:55,864 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=7, name=LoginOut]
2017-10-12 17:24:55,864 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:24:55,864 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:24:55",step_action="{'\u7c7b\u540d': 'InterfaceUnittestTestCase', '\u51fd\u6570': 'test_interface_of_urlencode', '\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012172454 AND testcase_id = 7 AND step_id = 9 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:24:55,902 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:24:55,903 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:24:55" WHERE executed_history_id = 20171012172454 AND testcase_id = 7 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:24:56,029 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=7]的执行结果
2017-10-12 17:24:56,181 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 17:24:56,191 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 17:24:56,192 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 17:24:56,192 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012172454',)
2017-10-12 17:24:56,197 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 17:24:56,197 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012172454')
2017-10-12 17:24:56,198 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 17:24:56,198 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012172454')
2017-10-12 17:24:56,199 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 17:24:56,199 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012172454')
2017-10-12 17:24:56,199 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 17:24:56,199 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012172454')
2017-10-12 17:24:56,200 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 17:24:56,200 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012172454',)
2017-10-12 17:24:56,201 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 17:24:56,201 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012172454')
2017-10-12 17:24:56,202 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 17:24:56,202 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 17:24:56,202 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012172454',)
2017-10-12 17:24:56,203 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 17:24:56,203 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012172454')
2017-10-12 17:24:56,204 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 17:24:56,204 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012172454')
2017-10-12 17:24:56,205 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=7]步骤运行结果
2017-10-12 17:24:56,205 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 7, '20171012172454')
2017-10-12 17:24:56,206 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 17:24:56,206 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012172454.html
2017-10-12 17:24:56,206 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 17:24:56,207 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 17:24:56,563 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012172454.html
2017-10-12 17:24:56,563 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 17:24:57,789 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 17:26:32,596 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:26:32,596 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:26:32,616 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:26:32,618 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:26:32,666 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:26:32,667 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:26:32,669 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:26:32,669 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:26:32,670 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:26:32,672 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:26:32,672 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:26:32,672 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:26:32,672 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:26:32,769 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:26:32,769 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:26:32,904 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:26:32,904 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:26:33,003 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:26:33,092 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:26:33,094 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:26:33,310 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:26:33,415 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:26:28', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;, &quot;charset&quot;=&quot;UTF-8&quot;},&quot;方法&quot;:&quot;post&quot;,&quot;url&quot;:&quot;/login/login/?&quot;,&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:26:33,515 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:26:33,515 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172632', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172632')
2017-10-12 17:26:33,585 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:26:33,585 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:26:33,586 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}}
2017-10-12 17:26:33,586 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:26:33,586 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172632', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="UTF-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}}', 'Block', '', '20171012172632')
2017-10-12 17:26:33,657 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 17:27:14,520 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:27:14,520 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:27:14,531 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:27:14,542 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:27:14,591 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:27:14,592 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:27:14,594 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:27:14,595 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:27:14,596 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:27:14,597 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:27:14,598 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:27:14,598 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:27:14,598 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:27:14,705 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:27:14,705 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:27:14,841 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:27:14,841 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:27:14,941 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:27:15,030 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:27:15,030 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:27:15,225 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:27:15,317 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:27:11', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</p>\n\n<p>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</p>\n\n<p>&quot;请求头&quot;:{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;, &quot;charset&quot;=&quot;utf-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:27:15,419 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:27:15,419 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172714', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172714')
2017-10-12 17:27:15,448 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:27:15,449 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:27:15,449 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}}
2017-10-12 17:27:15,449 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:27:15,450 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172714', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded", "charset"="utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}}', 'Block', '', '20171012172714')
2017-10-12 17:27:15,473 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting ':' delimiter: line 1 column 138 (char 137),停止执行用例[id=3, name=Login]
2017-10-12 17:28:16,496 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:28:16,497 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:28:16,516 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:28:16,518 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:28:16,568 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:28:16,568 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:28:16,570 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:28:16,570 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:28:16,572 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:28:16,573 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:28:16,573 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:28:16,573 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:28:16,573 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:28:16,676 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:28:16,677 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:28:16,814 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:28:16,814 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:28:16,915 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:28:17,016 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:28:17,017 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:28:17,367 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:28:17,463 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:28:08', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</p>\n\n<p>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</p>\n\n<p>&quot;请求头&quot;:{ &#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;, &#39;charset&#39;: &#39;utf-8&#39; },</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:28:17,553 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:28:17,553 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172816', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172816')
2017-10-12 17:28:17,579 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:28:17,579 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{ 'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8' },"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:28:17,579 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}}
2017-10-12 17:28:17,580 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:28:17,580 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172816', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{ \'Content-Type\': \'application/x-www-form-urlencoded\', \'charset\': \'utf-8\' },"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}}', 'Block', '', '20171012172816')
2017-10-12 17:28:17,633 testcase.py[line: 76] ERROR: 步骤[1]信息填写错误: Expecting property name enclosed in double quotes: line 1 column 78 (char 77),停止执行用例[id=3, name=Login]
2017-10-12 17:28:56,100 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:28:56,100 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:28:56,112 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:28:56,114 global_var.py[line: 29] INFO: 正在获取testlink
2017-10-12 17:28:56,163 main.py[line: 57] INFO: 正在创建测试用例报告报表
2017-10-12 17:28:56,163 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS testcase_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testsuit varchar(40),                                          testplan varchar(40),                                          project varchar(40),                                          runresult varchar(20),                                          runtime datetime)
2017-10-12 17:28:56,165 main.py[line: 60] INFO: 正在创建测试步骤报告报表
2017-10-12 17:28:56,165 mydb.py[line: 43] INFO: query：CREATE TABLE IF NOT EXISTS case_step_report_tb                                         (id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,                                          executed_history_id varchar(50) NOT NULL,                                          testcase_id int NOT NULL,                                          testcase_name varchar(40) NOT NULL,                                          testplan varchar(40) NOT NULL,                                          project varchar(40) NOT NULL,                                          step_id int,                                          step_num int NOT NULL,                                          step_action varchar(1000),                                           expected_results varchar(1000),                                          runresult varchar(10),                                          reason varchar(2000),                                          protocol_method varchar(40) ,                                          protocol varchar(40),                                          host varchar(40),                                          port int,                                          runtime datetime)
2017-10-12 17:28:56,167 main.py[line: 63] INFO: 正在读取运行模式配置
2017-10-12 17:28:56,168 main.py[line: 70] INFO: 正在运行全局初始化用例……
2017-10-12 17:28:56,169 main.py[line: 72] INFO: 待运行全局初始化用例id列表：[]
2017-10-12 17:28:56,169 main.py[line: 78] INFO: 按项目运行测试
2017-10-12 17:28:56,169 main.py[line: 82] INFO: 运行所有项目
2017-10-12 17:28:56,286 main.py[line: 92] INFO: 正在读取测项目[id：1, project：API_Test_Project]的协议，host，端口配置...
2017-10-12 17:28:56,287 main.py[line: 95] INFO: 成功读取配置信息：{"protocol":"http","host":"10.2.5.139","port":8080}
2017-10-12 17:28:56,426 main.py[line: 111] INFO: 正在执行测试项目[id：1, project：API_Test_Project]
2017-10-12 17:28:56,426 testproject.py[line: 23] INFO: 正在获取测试项目[id：1, name：API_Test_Project]对应对应的测试计划名称列表
2017-10-12 17:28:56,540 testproject.py[line: 28] INFO: 成功获取项目测试计划名称列表[list=['plant_of_api_test']]
2017-10-12 17:28:56,629 testproject.py[line: 38] INFO: 正在执行项目测试计划[project：API_Test_Project，testplan：plant_of_api_test]
2017-10-12 17:28:56,629 testplan.py[line: 29] INFO: 正在获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例
2017-10-12 17:28:56,873 testplan.py[line: 35] INFO: 成功获取测试计划[project=API_Test_Project，name=plant_of_api_test]的测试用例id：dict_keys(['3', '7'])
2017-10-12 17:28:56,965 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'Login', 'node_order': '1000', 'testsuite_id': '2', 'testcase_id': '3', 'id': '4', 'tc_external_id': '1', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户登录</p>\n', 'preconditions': '<p>Web服务正常开启~</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-07-05 14:17:31', 'updater_id': '2', 'modification_ts': '2017-10-12 17:28:51', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '6', 'step_number': '1', 'actions': '<p>{</p>\n\n<p>&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,</p>\n\n<p>&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,</p>\n\n<p>&quot;请求头&quot;:{ &quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;, &quot;charset&quot;: &quot;utf-8&quot;},</p>\n\n<p>&quot;方法&quot;:&quot;post&quot;,</p>\n\n<p>&quot;url&quot;:&quot;/login/login/?&quot;,</p>\n\n<p>&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-1'}]
2017-10-12 17:28:57,053 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:28:57,054 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172856', 3, 'Login', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172856')
2017-10-12 17:28:57,095 testplan.py[line: 72] INFO: 开始执行测试用例[id=3，name=Login]
2017-10-12 17:28:57,095 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{ "Content-Type":"application/x-www-form-urlencoded", "charset": "utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:28:57,096 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}}
2017-10-12 17:28:57,096 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:28:57,096 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172856', 3, 'Login', 'plant_of_api_test', 'API_Test_Project', 6, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{ "Content-Type":"application/x-www-form-urlencoded", "charset": "utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}}', 'Block', '', '20171012172856')
2017-10-12 17:28:57,120 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:28:57,121 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:28:57,121 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:28:57,121 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:28:57,122 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:28:57,124 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=3, name=Login]
2017-10-12 17:28:57,124 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:28:57,124 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:28:57",step_action="{'\u7c7b\u540d': 'InterfaceUnittestTestCase', '\u51fd\u6570': 'test_interface_of_urlencode', '\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012172856 AND testcase_id = 3 AND step_id = 6 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:28:57,162 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:28:57,162 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:28:57" WHERE executed_history_id = 20171012172856 AND testcase_id = 3 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:28:57,425 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=3]的执行结果
2017-10-12 17:28:57,683 testplan.py[line: 45] INFO: 获取测试用例信息 [{'updater_login': 'yangbo', 'author_login': 'yangbo', 'name': 'LoginOut', 'node_order': '1001', 'testsuite_id': '2', 'testcase_id': '7', 'id': '8', 'tc_external_id': '2', 'version': '1', 'layout': '1', 'status': '7', 'summary': '<p>测试用户退出登录</p>\n', 'preconditions': '<p>测试用户退出登录</p>\n', 'importance': '2', 'author_id': '2', 'creation_ts': '2017-10-12 14:42:08', 'updater_id': '2', 'modification_ts': '2017-10-12 17:18:32', 'active': '1', 'is_open': '1', 'execution_type': '1', 'estimated_exec_duration': '', 'author_first_name': '波', 'author_last_name': '杨', 'updater_first_name': '波', 'updater_last_name': '杨', 'steps': [{'id': '9', 'step_number': '1', 'actions': '<p>{&quot;类名&quot;:&quot;InterfaceUnittestTestCase&quot;,<br />\n&quot;函数&quot;:&quot;test_interface_of_urlencode&quot;,<br />\n&quot;请求头&quot;：{&quot;Content-Type&quot;:&quot;application/x-www-form-urlencoded&quot;,&quot;charset&quot;:&quot;utf-8&quot;},<br />\n&quot;方法&quot;:&quot;post&quot;,<br />\n&quot;url&quot;:&quot;/login/login/?&quot;,<br />\n&quot;参数&quot;:{&quot;loginName&quot;:&quot;test01&quot;,&quot;password&quot;:&quot;123456&quot;,&quot;sysId&quot;:1}}</p>\n', 'expected_results': '<p>{&quot;检查&quot;:&quot;body&quot;,<br />\n&quot;匹配规则&quot;:&quot;包含字符串&quot;,<br />\n&quot;条件&quot;:[{&quot;模式&quot;:&quot;\\&quot;success\\&quot;:true&quot;, &quot;消息&quot;:&quot;创建储值卡支付订单失败，success不为True&quot;}],<br />\n&quot;输出&quot;:{&quot;success&quot;: &quot;\\&quot;success\\&quot;:(.+?),&quot;,&quot;attach&quot;:&quot;attach\\&quot;:\\&quot;(.+?)\\&quot;&quot;}<br />\n}</p>\n\n<p>&nbsp;</p>\n', 'active': '1', 'execution_type': '1'}], 'full_tc_external_id': 'TC-2'}]
2017-10-12 17:28:57,781 testplan.py[line: 69] INFO: 记录测试用例到测试用例报表
2017-10-12 17:28:57,782 mydb.py[line: 57] INFO: query：INSERT INTO testcase_report_tb(executed_history_id, testcase_id, testcase_name, testsuit, testplan, project, runresult, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172856', 7, 'LoginOut', 'User_Login', 'plant_of_api_test', 'API_Test_Project', 'Block', '20171012172856')
2017-10-12 17:28:57,861 testplan.py[line: 72] INFO: 开始执行测试用例[id=7，name=LoginOut]
2017-10-12 17:28:57,876 testcase.py[line: 40] INFO: 转换来自test_link 的step_action值为：{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}
2017-10-12 17:28:57,876 testcase.py[line: 42] INFO: 转换来自test_link 的expected_results值为：{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\"success\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\"success\":(.+?),","attach":"attach\":\"(.+?)\""}} 
2017-10-12 17:28:57,877 testcase.py[line: 61] INFO: 记录测试步骤到测试步骤报告表
2017-10-12 17:28:57,877 mydb.py[line: 57] INFO: query：INSERT INTO case_step_report_tb(executed_history_id, testcase_id, testcase_name, testplan, project, step_id, step_num, protocol_method, protocol, host, port, step_action, expected_results, runresult, reason, runtime) VALUES(%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)  data：('20171012172856', 7, 'LoginOut', 'plant_of_api_test', 'API_Test_Project', 9, 1, '', 'http', '10.2.5.139', 8080, '{"类名":"InterfaceUnittestTestCase","函数":"test_interface_of_urlencode","请求头":{"Content-Type":"application/x-www-form-urlencoded","charset":"utf-8"},"方法":"post","url":"/login/login/?","参数":{"loginName":"test01","password":"123456","sysId":1}}', '{"检查":"body","匹配规则":"包含字符串","条件":[{"模式":"\\"success\\":true", "消息":"创建储值卡支付订单失败,success不为True"}],"输出":{"success": "\\"success\\":(.+?),","attach":"attach\\":\\"(.+?)\\""}} ', 'Block', '', '20171012172856')
2017-10-12 17:28:57,912 testcase.py[line: 85] INFO: 开始执行步骤操作[第1步]
2017-10-12 17:28:57,912 casestep.py[line: 172] INFO: 调用的方法为：InterfaceUnittestTestCase.test_interface_of_urlencode
2017-10-12 17:28:57,913 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:28:57,913 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:28:57,913 casestep.py[line: 117] INFO: 没找到需要替换的动态参数
2017-10-12 17:28:57,914 testcase.py[line: 122] ERROR: 步骤[1]执行出错,停止执行用例[id=7, name=LoginOut]
2017-10-12 17:28:57,914 testcase.py[line: 129] INFO: 正在更新步骤执行结果
2017-10-12 17:28:57,915 mydb.py[line: 72] INFO: query：UPDATE case_step_report_tb SET runresult="Error",reason="Traceback (most recent call last):  File D:\workspace\interface_project_for_dev\interface\InterfaceUnittestTestCase.py, line 21, in test_interface_of_urlencode    for host in __all__.global_headers:AttributeError: list object has no attribute global_headers", protocol_method="post", runtime="2017-10-12 17:28:57",step_action="{'\u7c7b\u540d': 'InterfaceUnittestTestCase', '\u51fd\u6570': 'test_interface_of_urlencode', '\u8bf7\u6c42\u5934': {'Content-Type': 'application/x-www-form-urlencoded', 'charset': 'utf-8'}, '\u65b9\u6cd5': 'post', 'url': '/login/login/?', '\u53c2\u6570': {'loginName': 'test01', 'password': '123456', 'sysId': 1}}", expected_results="{'检查': 'body', '匹配规则': '包含字符串', '条件': [{'模式': ''success':true', '消息': '创建储值卡支付订单失败,success不为True'}], '输出': {'success': ''success':(.+?),', 'attach': 'attach':'(.+?)''}}" WHERE executed_history_id = 20171012172856 AND testcase_id = 7 AND step_id = 9 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:28:57,937 testplan.py[line: 76] INFO: 正在更新用例执行结果
2017-10-12 17:28:57,938 mydb.py[line: 72] INFO: query：UPDATE testcase_report_tb SET runresult="Error", runtime="2017-10-12 17:28:57" WHERE executed_history_id = 20171012172856 AND testcase_id = 7 AND project='API_Test_Project' AND testplan='plant_of_api_test'
2017-10-12 17:28:58,081 testplan.py[line: 87] INFO: 正在更新testlink上测试计划[testplan_id=5, bulid_version=V1.00.00.10],对应用例[testcase_id=7]的执行结果
2017-10-12 17:28:58,207 testplan.py[line: 97] INFO: 测试计划[project=API_Test_Project ,testplan=plant_of_api_test]已执行完
2017-10-12 17:28:58,208 main.py[line: 243] INFO: 接口测试已执行完成，正在关闭数据库连接
2017-10-12 17:28:58,209 htmlreporter.py[line: 37] INFO: 正在查询测试用例总数
2017-10-12 17:28:58,209 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE executed_history_id = %s  data：('20171012172856',)
2017-10-12 17:28:58,209 htmlreporter.py[line: 43] INFO: 正在查询执行通过的用例数
2017-10-12 17:28:58,210 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Pass', '20171012172856')
2017-10-12 17:28:58,210 htmlreporter.py[line: 49] INFO: 正在查询执行失败的用例数
2017-10-12 17:28:58,210 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Fail', '20171012172856')
2017-10-12 17:28:58,211 htmlreporter.py[line: 55] INFO: 正在查询执行出错的用例数
2017-10-12 17:28:58,211 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Error', '20171012172856')
2017-10-12 17:28:58,211 htmlreporter.py[line: 61] INFO: 正在查询未执行的用例数
2017-10-12 17:28:58,212 mydb.py[line: 87] INFO: query：SELECT count(testcase_id) FROM testcase_report_tb WHERE runresult = %s AND executed_history_id = %s  data：('Block', '20171012172856')
2017-10-12 17:28:58,212 htmlreporter.py[line: 87] INFO: 正在查询已运的测试计划
2017-10-12 17:28:58,212 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012172856',)
2017-10-12 17:28:58,213 htmlreporter.py[line: 113] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例执行结果
2017-10-12 17:28:58,213 mydb.py[line: 104] INFO: query：SELECT id, executed_history_id, testcase_id, testcase_name,testsuit, testplan, project, runresult, runtime FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012172856')
2017-10-12 17:28:58,214 htmlreporter.py[line: 120] INFO: 正在记录测试测试计划[project：API_Test_Project, testplan：plant_of_api_test]的测试用例运行结果到测试报告
2017-10-12 17:28:58,214 htmlreporter.py[line: 134] INFO: 正在查询已运的测试计划
2017-10-12 17:28:58,215 mydb.py[line: 104] INFO: query：SELECT project, testplan FROM testcase_report_tb WHERE executed_history_id = %s GROUP BY project, testplan ORDER BY id ASC  data：('20171012172856',)
2017-10-12 17:28:58,215 htmlreporter.py[line: 146] INFO: 正在查询测试计划[project：API_Test_Project, testplan：plant_of_api_test]已运行的测试用例
2017-10-12 17:28:58,215 mydb.py[line: 104] INFO: query：SELECT testcase_id, testcase_name, project, testplan FROM testcase_report_tb WHERE project=%s AND testplan=%s AND executed_history_id = %s  GROUP BY testcase_id ORDER BY id ASC  data：('API_Test_Project', 'plant_of_api_test', '20171012172856')
2017-10-12 17:28:58,216 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=3]步骤运行结果
2017-10-12 17:28:58,216 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 3, '20171012172856')
2017-10-12 17:28:58,217 htmlreporter.py[line: 177] INFO: 正在查询测试用例[id=7]步骤运行结果
2017-10-12 17:28:58,217 mydb.py[line: 104] INFO: query：SELECT step_id, step_num, protocol_method, protocol, HOST, PORT, step_action, expected_results, runresult, reason, runtime FROM case_step_report_tb WHERE project= %s AND testplan= %s AND testcase_id = %s AND executed_history_id = %s GROUP BY step_num ORDER BY step_num ASC  data：('API_Test_Project', 'plant_of_api_test', 7, '20171012172856')
2017-10-12 17:28:58,218 htmlreporter.py[line: 199] INFO: 正在设置测试报告结果文件名
2017-10-12 17:28:58,218 htmlreporter.py[line: 209] INFO: 测试报告文件名所在路径为：E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012172856.html
2017-10-12 17:28:58,218 htmlreporter.py[line: 202] INFO: 正在生成测试报告
2017-10-12 17:28:58,219 main.py[line: 268] INFO: 生成测试报告成功
2017-10-12 17:28:58,568 main.py[line: 275] INFO: E:\\interface_autotest_project\\interface_project\\testreport\\test_report20171012172856.html
2017-10-12 17:28:58,568 main.py[line: 278] INFO: 正在发送测试报告邮件...
2017-10-12 17:28:59,859 main.py[line: 282] INFO: 发送邮件成功
2017-10-12 17:32:36,372 global_var.py[line: 18] INFO: 当前运行环境：测试环境
2017-10-12 17:32:36,372 global_var.py[line: 19] INFO: 正在初始化数据库[名称：SAOFUDB1]对象
2017-10-12 17:32:36,382 global_var.py[line: 26] INFO: 正在初始化数据库[名称：TESTDB]对象
2017-10-12 17:32:36,394 global_var.py[line: 29] INFO: 正在获取testlink
